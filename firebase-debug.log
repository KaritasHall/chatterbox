[debug] [2023-01-26T12:10:53.078Z] ----------------------------------------------------------------------
[debug] [2023-01-26T12:10:53.079Z] Command:       /usr/local/bin/node /usr/local/bin/firebase serve --only functions
[debug] [2023-01-26T12:10:53.080Z] CLI Version:   11.20.0
[debug] [2023-01-26T12:10:53.080Z] Platform:      darwin
[debug] [2023-01-26T12:10:53.080Z] Node Version:  v16.18.0
[debug] [2023-01-26T12:10:53.080Z] Time:          Thu Jan 26 2023 12:10:53 GMT+0000 (Greenwich Mean Time)
[debug] [2023-01-26T12:10:53.080Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-01-26T12:10:53.082Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none]
[debug] [2023-01-26T12:10:53.121Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-01-26T12:10:53.121Z] > authorizing via signed-in user (karitashall@gmail.com)
[debug] [2023-01-26T12:10:53.121Z] [iam] checking project chatroom-69853 for permissions ["firebase.projects.get"]
[debug] [2023-01-26T12:10:53.121Z] > refreshing access token with scopes: []
[debug] [2023-01-26T12:10:53.122Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2023-01-26T12:10:53.122Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-01-26T12:10:53.368Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2023-01-26T12:10:53.368Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-01-26T12:10:53.412Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/chatroom-69853:testIamPermissions [none]
[debug] [2023-01-26T12:10:53.412Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/chatroom-69853:testIamPermissions x-goog-quota-user=projects/chatroom-69853
[debug] [2023-01-26T12:10:53.412Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/chatroom-69853:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-26T12:10:53.482Z] <<< [apiv2][status] GET https://firebase-public.firebaseio.com/cli.json 200
[debug] [2023-01-26T12:10:53.483Z] <<< [apiv2][body] GET https://firebase-public.firebaseio.com/cli.json {"cloudBuildErrorAfter":1594252800000,"cloudBuildWarnAfter":1590019200000,"defaultNode10After":1594252800000,"minVersion":"3.0.5","node8DeploysDisabledAfter":1613390400000,"node8RuntimeDisabledAfter":1615809600000,"node8WarnAfter":1600128000000}
[debug] [2023-01-26T12:10:54.411Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/chatroom-69853:testIamPermissions 200
[debug] [2023-01-26T12:10:54.411Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/chatroom-69853:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-01-26T12:10:54.412Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/chatroom-69853 [none]
[debug] [2023-01-26T12:10:54.797Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/chatroom-69853 200
[debug] [2023-01-26T12:10:54.797Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/chatroom-69853 {"projectId":"chatroom-69853","projectNumber":"778752590260","displayName":"Chatroom","name":"projects/chatroom-69853","resources":{"hostingSite":"chatroom-69853","realtimeDatabaseInstance":"chatroom-69853-default-rtdb","storageBucket":"chatroom-69853.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_2fd59c23-b71b-47d8-85c9-697f5cc56cf5"}
[info] ✔  functions: Using node@16 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Using node@16 from host."}}
[debug] [2023-01-26T12:10:54.814Z] defaultcredentials: writing to file /Users/karit/.config/firebase/karitashall_gmail_com_application_default_credentials.json
[debug] [2023-01-26T12:10:54.816Z] Setting GAC to /Users/karit/.config/firebase/karitashall_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/karit/.config/firebase/karitashall_gmail_com_application_default_credentials.json"}}
[debug] [2023-01-26T12:10:54.817Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/chatroom-69853/adminSdkConfig [none]
[debug] [2023-01-26T12:10:55.190Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/chatroom-69853/adminSdkConfig 200
[debug] [2023-01-26T12:10:55.190Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/chatroom-69853/adminSdkConfig {"projectId":"chatroom-69853","databaseURL":"https://chatroom-69853-default-rtdb.europe-west1.firebasedatabase.app","storageBucket":"chatroom-69853.appspot.com","locationId":"europe-west"}
[info] i  functions: Watching "/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions\" for Cloud Functions..."}}
[debug] [2023-01-26T12:10:55.234Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T12:10:55.548Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T12:10:55.549Z] Building nodejs source
[debug] [2023-01-26T12:10:55.550Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T12:10:55.651Z] Serving at port 9005

[debug] [2023-01-26T12:10:55.695Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T12:10:55.703Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[info] ✔  functions[us-central1-app]: http function initialized (http://localhost:5000/chatroom-69853/us-central1/app). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5000/chatroom-69853/us-central1/app)."}}
[debug] [2023-01-26T12:11:00.200Z] [work-queue] {"queuedWork":["/chatroom-69853/us-central1/app-2023-01-26T12:11:00.200Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-26T12:11:00.201Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chatroom-69853/us-central1/app-2023-01-26T12:11:00.200Z"],"workRunningCount":1}
[debug] [2023-01-26T12:11:00.201Z] Accepted request GET /chatroom-69853/us-central1/app --> us-central1-app
[debug] [2023-01-26T12:11:00.205Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-26T12:11:00.206Z] [functions] Got req.url=/chatroom-69853/us-central1/app, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chatroom-69853/us-central1/app, mapping to path=/"}}
[debug] [2023-01-26T12:11:00.218Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2023-01-26T12:11:00.219Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2023-01-26T12:11:00.571Z] [runtime-status] [57162] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57162] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-26T12:11:00.572Z] [runtime-status] [57162] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57162] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:11:00.572Z] [runtime-status] [57162] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57162] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-26T12:11:00.572Z] [runtime-status] [57162] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57162] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:11:00.587Z] [runtime-status] [57162] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57162] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-26T12:11:00.587Z] [runtime-status] [57162] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57162] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-26T12:11:00.587Z] [runtime-status] [57162] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57162] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:11:00.587Z] [runtime-status] [57162] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57162] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-26T12:11:00.587Z] [runtime-status] [57162] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57162] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:11:00.587Z] [runtime-status] [57162] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57162] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-26T12:11:00.619Z] [runtime-status] [57162] initializeApp(DEFAULT) {"storageBucket":"chatroom-69853.appspot.com","databaseURL":"https://chatroom-69853-default-rtdb.europe-west1.firebasedatabase.app","projectId":"chatroom-69853"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57162] initializeApp(DEFAULT) {\"storageBucket\":\"chatroom-69853.appspot.com\",\"databaseURL\":\"https://chatroom-69853-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"chatroom-69853\"}"}}
[debug] [2023-01-26T12:11:00.621Z] [runtime-status] [57162] Functions runtime initialized. {"cwd":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions","node_version":"16.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57162] Functions runtime initialized. {\"cwd\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions\",\"node_version\":\"16.18.0\"}"}}
[debug] [2023-01-26T12:11:00.621Z] [runtime-status] [57162] Listening to port: /var/folders/y1/2kn99b5s1q75dkydcfqvw4yr0000gn/T/fire_emu_f7ec3e3403e33ca0.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57162] Listening to port: /var/folders/y1/2kn99b5s1q75dkydcfqvw4yr0000gn/T/fire_emu_f7ec3e3403e33ca0.sock"}}
[debug] [2023-01-26T12:11:00.630Z] [worker-us-central1-app-44e7ce3b-ebeb-4a71-a74f-a3a6217e1a75]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-44e7ce3b-ebeb-4a71-a74f-a3a6217e1a75]: IDLE"}}
[debug] [2023-01-26T12:11:00.630Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[debug] [2023-01-26T12:11:00.630Z] [worker-us-central1-app-44e7ce3b-ebeb-4a71-a74f-a3a6217e1a75]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-44e7ce3b-ebeb-4a71-a74f-a3a6217e1a75]: BUSY"}}
[info] i  functions: Beginning execution of "app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"app\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-26T12:11:01.392Z] [worker-us-central1-app-44e7ce3b-ebeb-4a71-a74f-a3a6217e1a75]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-44e7ce3b-ebeb-4a71-a74f-a3a6217e1a75]: IDLE"}}
[debug] [2023-01-26T12:11:01.392Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "app" in 758.876167ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"app\" in 758.876167ms"}}
[debug] [2023-01-26T12:11:32.578Z] [work-queue] {"queuedWork":["/chatroom-69853/us-central1/app/-2023-01-26T12:11:32.578Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-26T12:11:32.579Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chatroom-69853/us-central1/app/-2023-01-26T12:11:32.578Z"],"workRunningCount":1}
[debug] [2023-01-26T12:11:32.579Z] Accepted request GET /chatroom-69853/us-central1/app/ --> us-central1-app
[debug] [2023-01-26T12:11:32.586Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-26T12:11:32.586Z] [functions] Got req.url=/chatroom-69853/us-central1/app/, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chatroom-69853/us-central1/app/, mapping to path=/"}}
[debug] [2023-01-26T12:11:32.587Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[debug] [2023-01-26T12:11:32.587Z] [worker-us-central1-app-44e7ce3b-ebeb-4a71-a74f-a3a6217e1a75]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-44e7ce3b-ebeb-4a71-a74f-a3a6217e1a75]: BUSY"}}
[info] i  functions: Beginning execution of "app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"app\""}}
[debug] [2023-01-26T12:11:32.757Z] [worker-us-central1-app-44e7ce3b-ebeb-4a71-a74f-a3a6217e1a75]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-44e7ce3b-ebeb-4a71-a74f-a3a6217e1a75]: IDLE"}}
[debug] [2023-01-26T12:11:32.759Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "app" in 153.2005ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"app\" in 153.2005ms"}}
[debug] [2023-01-26T12:11:54.679Z] [work-queue] {"queuedWork":["/chatroom-69853/us-central1/app/chat/lkmYNplyQE0kLQUZRr08-2023-01-26T12:11:54.679Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-26T12:11:54.680Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chatroom-69853/us-central1/app/chat/lkmYNplyQE0kLQUZRr08-2023-01-26T12:11:54.679Z"],"workRunningCount":1}
[debug] [2023-01-26T12:11:54.680Z] Accepted request DELETE /chatroom-69853/us-central1/app/chat/lkmYNplyQE0kLQUZRr08 --> us-central1-app
[debug] [2023-01-26T12:11:54.685Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-26T12:11:54.685Z] [functions] Got req.url=/chatroom-69853/us-central1/app/chat/lkmYNplyQE0kLQUZRr08, mapping to path=/chat/lkmYNplyQE0kLQUZRr08 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chatroom-69853/us-central1/app/chat/lkmYNplyQE0kLQUZRr08, mapping to path=/chat/lkmYNplyQE0kLQUZRr08"}}
[debug] [2023-01-26T12:11:54.685Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[debug] [2023-01-26T12:11:54.686Z] [worker-us-central1-app-44e7ce3b-ebeb-4a71-a74f-a3a6217e1a75]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-44e7ce3b-ebeb-4a71-a74f-a3a6217e1a75]: BUSY"}}
[info] i  functions: Beginning execution of "app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"app\""}}
[debug] [2023-01-26T12:11:54.798Z] [worker-us-central1-app-44e7ce3b-ebeb-4a71-a74f-a3a6217e1a75]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-44e7ce3b-ebeb-4a71-a74f-a3a6217e1a75]: IDLE"}}
[debug] [2023-01-26T12:11:54.799Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "app" in 107.758958ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"app\" in 107.758958ms"}}
[debug] [2023-01-26T12:12:24.638Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T12:12:25.640Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T12:12:25.949Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T12:12:25.949Z] Building nodejs source
[debug] [2023-01-26T12:12:25.949Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T12:12:26.041Z] Serving at port 9005

[debug] [2023-01-26T12:12:26.082Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T12:12:26.084Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T12:12:26.088Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2023-01-26T12:12:26.088Z] [worker-us-central1-app-44e7ce3b-ebeb-4a71-a74f-a3a6217e1a75]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-44e7ce3b-ebeb-4a71-a74f-a3a6217e1a75]: FINISHING"}}
[debug] [2023-01-26T12:12:26.091Z] [worker-us-central1-app-44e7ce3b-ebeb-4a71-a74f-a3a6217e1a75]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-44e7ce3b-ebeb-4a71-a74f-a3a6217e1a75]: exited"}}
[debug] [2023-01-26T12:12:26.091Z] [worker-us-central1-app-44e7ce3b-ebeb-4a71-a74f-a3a6217e1a75]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-44e7ce3b-ebeb-4a71-a74f-a3a6217e1a75]: FINISHED"}}
[debug] [2023-01-26T12:18:55.217Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T12:18:56.222Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T12:18:56.650Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T12:18:56.651Z] Building nodejs source
[debug] [2023-01-26T12:18:56.651Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T12:18:56.748Z] Serving at port 9005

[debug] [2023-01-26T12:18:56.787Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T12:18:56.790Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T12:19:00.871Z] [work-queue] {"queuedWork":["/chatroom-69853/us-central1/app/-2023-01-26T12:19:00.871Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-26T12:19:00.872Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chatroom-69853/us-central1/app/-2023-01-26T12:19:00.871Z"],"workRunningCount":1}
[debug] [2023-01-26T12:19:00.872Z] Accepted request GET /chatroom-69853/us-central1/app/ --> us-central1-app
[debug] [2023-01-26T12:19:00.877Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-26T12:19:00.877Z] [functions] Got req.url=/chatroom-69853/us-central1/app/, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chatroom-69853/us-central1/app/, mapping to path=/"}}
[debug] [2023-01-26T12:19:00.878Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[debug] [2023-01-26T12:19:00.886Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2023-01-26T12:19:00.886Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2023-01-26T12:19:01.377Z] [runtime-status] [57635] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57635] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-26T12:19:01.377Z] [runtime-status] [57635] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57635] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:19:01.377Z] [runtime-status] [57635] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57635] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-26T12:19:01.377Z] [runtime-status] [57635] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57635] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:19:01.392Z] [runtime-status] [57635] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57635] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-26T12:19:01.392Z] [runtime-status] [57635] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57635] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-26T12:19:01.392Z] [runtime-status] [57635] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57635] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:19:01.392Z] [runtime-status] [57635] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57635] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-26T12:19:01.392Z] [runtime-status] [57635] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57635] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:19:01.392Z] [runtime-status] [57635] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57635] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-26T12:19:01.422Z] [runtime-status] [57635] initializeApp(DEFAULT) {"storageBucket":"chatroom-69853.appspot.com","databaseURL":"https://chatroom-69853-default-rtdb.europe-west1.firebasedatabase.app","projectId":"chatroom-69853"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57635] initializeApp(DEFAULT) {\"storageBucket\":\"chatroom-69853.appspot.com\",\"databaseURL\":\"https://chatroom-69853-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"chatroom-69853\"}"}}
[debug] [2023-01-26T12:19:01.425Z] [runtime-status] [57635] Functions runtime initialized. {"cwd":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions","node_version":"16.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57635] Functions runtime initialized. {\"cwd\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions\",\"node_version\":\"16.18.0\"}"}}
[debug] [2023-01-26T12:19:01.425Z] [runtime-status] [57635] Listening to port: /var/folders/y1/2kn99b5s1q75dkydcfqvw4yr0000gn/T/fire_emu_e9078927e1832891.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57635] Listening to port: /var/folders/y1/2kn99b5s1q75dkydcfqvw4yr0000gn/T/fire_emu_e9078927e1832891.sock"}}
[debug] [2023-01-26T12:19:01.500Z] [worker-us-central1-app-b63c0f7f-76e1-4810-967b-d17fbdedaae1]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-b63c0f7f-76e1-4810-967b-d17fbdedaae1]: IDLE"}}
[debug] [2023-01-26T12:19:01.500Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[debug] [2023-01-26T12:19:01.500Z] [worker-us-central1-app-b63c0f7f-76e1-4810-967b-d17fbdedaae1]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-b63c0f7f-76e1-4810-967b-d17fbdedaae1]: BUSY"}}
[info] i  functions: Beginning execution of "app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"app\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-26T12:19:02.238Z] [worker-us-central1-app-b63c0f7f-76e1-4810-967b-d17fbdedaae1]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-b63c0f7f-76e1-4810-967b-d17fbdedaae1]: IDLE"}}
[debug] [2023-01-26T12:19:02.238Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "app" in 731.139541ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"app\" in 731.139541ms"}}
[info] >  node:internal/errors:478 {"user":"node:internal/errors:478","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m node:internal/errors:478"}}
[info] >      ErrorCaptureStackTrace(err); {"user":"    ErrorCaptureStackTrace(err);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     ErrorCaptureStackTrace(err);"}}
[info] >      ^ {"user":"    ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client {"user":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client"}}
[info] >      at new NodeError (node:internal/errors:387:5) {"user":"    at new NodeError (node:internal/errors:387:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at new NodeError (node:internal/errors:387:5)"}}
[info] >      at ServerResponse.setHeader (node:_http_outgoing:644:11) {"user":"    at ServerResponse.setHeader (node:_http_outgoing:644:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.setHeader (node:_http_outgoing:644:11)"}}
[info] >      at ServerResponse.header (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:794:10) {"user":"    at ServerResponse.header (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:794:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.header (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:794:10)"}}
[info] >      at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:174:12) {"user":"    at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:174:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:174:12)"}}
[info] >      at ServerResponse.json (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:278:15) {"user":"    at ServerResponse.json (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:278:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.json (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:278:15)"}}
[info] >      at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:162:21) {"user":"    at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:162:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:162:21)"}}
[info] >      at /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:39:7 {"user":"    at /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:39:7","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:39:7"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    code: 'ERR_HTTP_HEADERS_SENT' {"user":"  code: 'ERR_HTTP_HEADERS_SENT'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_HTTP_HEADERS_SENT'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-01-26T12:19:02.249Z] [worker-us-central1-app-b63c0f7f-76e1-4810-967b-d17fbdedaae1]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-b63c0f7f-76e1-4810-967b-d17fbdedaae1]: exited"}}
[debug] [2023-01-26T12:19:02.249Z] [worker-us-central1-app-b63c0f7f-76e1-4810-967b-d17fbdedaae1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-b63c0f7f-76e1-4810-967b-d17fbdedaae1]: FINISHED"}}
[debug] [2023-01-26T12:21:03.652Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T12:21:04.654Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T12:21:04.996Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T12:21:04.996Z] Building nodejs source
[debug] [2023-01-26T12:21:04.997Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T12:21:05.069Z] Serving at port 9005

[debug] [2023-01-26T12:21:05.097Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T12:21:05.100Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T12:21:07.620Z] [work-queue] {"queuedWork":["/chatroom-69853/us-central1/app/-2023-01-26T12:21:07.620Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-26T12:21:07.621Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chatroom-69853/us-central1/app/-2023-01-26T12:21:07.620Z"],"workRunningCount":1}
[debug] [2023-01-26T12:21:07.621Z] Accepted request GET /chatroom-69853/us-central1/app/ --> us-central1-app
[debug] [2023-01-26T12:21:07.625Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-26T12:21:07.625Z] [functions] Got req.url=/chatroom-69853/us-central1/app/, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chatroom-69853/us-central1/app/, mapping to path=/"}}
[debug] [2023-01-26T12:21:07.625Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[debug] [2023-01-26T12:21:07.632Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2023-01-26T12:21:07.632Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2023-01-26T12:21:08.124Z] [runtime-status] [57771] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57771] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-26T12:21:08.125Z] [runtime-status] [57771] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57771] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:21:08.125Z] [runtime-status] [57771] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57771] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-26T12:21:08.125Z] [runtime-status] [57771] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57771] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:21:08.144Z] [runtime-status] [57771] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57771] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-26T12:21:08.144Z] [runtime-status] [57771] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57771] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-26T12:21:08.144Z] [runtime-status] [57771] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57771] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:21:08.144Z] [runtime-status] [57771] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57771] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-26T12:21:08.144Z] [runtime-status] [57771] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57771] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:21:08.145Z] [runtime-status] [57771] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57771] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-26T12:21:08.174Z] [runtime-status] [57771] initializeApp(DEFAULT) {"storageBucket":"chatroom-69853.appspot.com","databaseURL":"https://chatroom-69853-default-rtdb.europe-west1.firebasedatabase.app","projectId":"chatroom-69853"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57771] initializeApp(DEFAULT) {\"storageBucket\":\"chatroom-69853.appspot.com\",\"databaseURL\":\"https://chatroom-69853-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"chatroom-69853\"}"}}
[debug] [2023-01-26T12:21:08.177Z] [runtime-status] [57771] Functions runtime initialized. {"cwd":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions","node_version":"16.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57771] Functions runtime initialized. {\"cwd\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions\",\"node_version\":\"16.18.0\"}"}}
[debug] [2023-01-26T12:21:08.177Z] [runtime-status] [57771] Listening to port: /var/folders/y1/2kn99b5s1q75dkydcfqvw4yr0000gn/T/fire_emu_1cd1571c25857685.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57771] Listening to port: /var/folders/y1/2kn99b5s1q75dkydcfqvw4yr0000gn/T/fire_emu_1cd1571c25857685.sock"}}
[debug] [2023-01-26T12:21:08.244Z] [worker-us-central1-app-76d294bd-6afd-413a-9e13-40ae11b35358]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-76d294bd-6afd-413a-9e13-40ae11b35358]: IDLE"}}
[debug] [2023-01-26T12:21:08.244Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[debug] [2023-01-26T12:21:08.244Z] [worker-us-central1-app-76d294bd-6afd-413a-9e13-40ae11b35358]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-76d294bd-6afd-413a-9e13-40ae11b35358]: BUSY"}}
[info] i  functions: Beginning execution of "app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"app\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-26T12:21:08.915Z] [worker-us-central1-app-76d294bd-6afd-413a-9e13-40ae11b35358]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-76d294bd-6afd-413a-9e13-40ae11b35358]: IDLE"}}
[debug] [2023-01-26T12:21:08.915Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "app" in 662.961584ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"app\" in 662.961584ms"}}
[info] >  node:internal/errors:478 {"user":"node:internal/errors:478","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m node:internal/errors:478"}}
[info] >      ErrorCaptureStackTrace(err); {"user":"    ErrorCaptureStackTrace(err);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     ErrorCaptureStackTrace(err);"}}
[info] >      ^ {"user":"    ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client {"user":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client"}}
[info] >      at new NodeError (node:internal/errors:387:5) {"user":"    at new NodeError (node:internal/errors:387:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at new NodeError (node:internal/errors:387:5)"}}
[info] >      at ServerResponse.setHeader (node:_http_outgoing:644:11) {"user":"    at ServerResponse.setHeader (node:_http_outgoing:644:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.setHeader (node:_http_outgoing:644:11)"}}
[info] >      at ServerResponse.header (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:794:10) {"user":"    at ServerResponse.header (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:794:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.header (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:794:10)"}}
[info] >      at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:174:12) {"user":"    at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:174:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:174:12)"}}
[info] >      at ServerResponse.json (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:278:15) {"user":"    at ServerResponse.json (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:278:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.json (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:278:15)"}}
[info] >      at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:162:21) {"user":"    at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:162:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:162:21)"}}
[info] >      at /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:38:7 {"user":"    at /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:38:7","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:38:7"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    code: 'ERR_HTTP_HEADERS_SENT' {"user":"  code: 'ERR_HTTP_HEADERS_SENT'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_HTTP_HEADERS_SENT'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-01-26T12:21:08.926Z] [worker-us-central1-app-76d294bd-6afd-413a-9e13-40ae11b35358]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-76d294bd-6afd-413a-9e13-40ae11b35358]: exited"}}
[debug] [2023-01-26T12:21:08.926Z] [worker-us-central1-app-76d294bd-6afd-413a-9e13-40ae11b35358]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-76d294bd-6afd-413a-9e13-40ae11b35358]: FINISHED"}}
[debug] [2023-01-26T12:21:10.767Z] [work-queue] {"queuedWork":["/chatroom-69853/us-central1/app/-2023-01-26T12:21:10.767Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-26T12:21:10.767Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chatroom-69853/us-central1/app/-2023-01-26T12:21:10.767Z"],"workRunningCount":1}
[debug] [2023-01-26T12:21:10.767Z] Accepted request GET /chatroom-69853/us-central1/app/ --> us-central1-app
[debug] [2023-01-26T12:21:10.770Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-26T12:21:10.770Z] [functions] Got req.url=/chatroom-69853/us-central1/app/, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chatroom-69853/us-central1/app/, mapping to path=/"}}
[debug] [2023-01-26T12:21:10.770Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[debug] [2023-01-26T12:21:10.779Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2023-01-26T12:21:10.779Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2023-01-26T12:21:11.101Z] [runtime-status] [57786] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57786] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-26T12:21:11.101Z] [runtime-status] [57786] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57786] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:21:11.102Z] [runtime-status] [57786] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57786] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-26T12:21:11.102Z] [runtime-status] [57786] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57786] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:21:11.116Z] [runtime-status] [57786] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57786] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-26T12:21:11.116Z] [runtime-status] [57786] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57786] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-26T12:21:11.116Z] [runtime-status] [57786] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57786] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:21:11.116Z] [runtime-status] [57786] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57786] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-26T12:21:11.117Z] [runtime-status] [57786] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57786] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:21:11.117Z] [runtime-status] [57786] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57786] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-26T12:21:11.146Z] [runtime-status] [57786] initializeApp(DEFAULT) {"storageBucket":"chatroom-69853.appspot.com","databaseURL":"https://chatroom-69853-default-rtdb.europe-west1.firebasedatabase.app","projectId":"chatroom-69853"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57786] initializeApp(DEFAULT) {\"storageBucket\":\"chatroom-69853.appspot.com\",\"databaseURL\":\"https://chatroom-69853-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"chatroom-69853\"}"}}
[debug] [2023-01-26T12:21:11.149Z] [runtime-status] [57786] Functions runtime initialized. {"cwd":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions","node_version":"16.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57786] Functions runtime initialized. {\"cwd\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions\",\"node_version\":\"16.18.0\"}"}}
[debug] [2023-01-26T12:21:11.149Z] [runtime-status] [57786] Listening to port: /var/folders/y1/2kn99b5s1q75dkydcfqvw4yr0000gn/T/fire_emu_c1e6330f71b69888.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57786] Listening to port: /var/folders/y1/2kn99b5s1q75dkydcfqvw4yr0000gn/T/fire_emu_c1e6330f71b69888.sock"}}
[debug] [2023-01-26T12:21:11.190Z] [worker-us-central1-app-c679a405-aaf7-40d3-a685-4e6f8f84ac1a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-c679a405-aaf7-40d3-a685-4e6f8f84ac1a]: IDLE"}}
[debug] [2023-01-26T12:21:11.190Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[debug] [2023-01-26T12:21:11.190Z] [worker-us-central1-app-c679a405-aaf7-40d3-a685-4e6f8f84ac1a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-c679a405-aaf7-40d3-a685-4e6f8f84ac1a]: BUSY"}}
[info] i  functions: Beginning execution of "app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"app\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-26T12:21:11.789Z] [worker-us-central1-app-c679a405-aaf7-40d3-a685-4e6f8f84ac1a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-c679a405-aaf7-40d3-a685-4e6f8f84ac1a]: IDLE"}}
[debug] [2023-01-26T12:21:11.789Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "app" in 595.222458ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"app\" in 595.222458ms"}}
[info] >  node:internal/errors:478 {"user":"node:internal/errors:478","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m node:internal/errors:478"}}
[info] >      ErrorCaptureStackTrace(err); {"user":"    ErrorCaptureStackTrace(err);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     ErrorCaptureStackTrace(err);"}}
[info] >      ^ {"user":"    ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client {"user":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client"}}
[info] >      at new NodeError (node:internal/errors:387:5) {"user":"    at new NodeError (node:internal/errors:387:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at new NodeError (node:internal/errors:387:5)"}}
[info] >      at ServerResponse.setHeader (node:_http_outgoing:644:11) {"user":"    at ServerResponse.setHeader (node:_http_outgoing:644:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.setHeader (node:_http_outgoing:644:11)"}}
[info] >      at ServerResponse.header (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:794:10) {"user":"    at ServerResponse.header (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:794:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.header (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:794:10)"}}
[info] >      at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:174:12) {"user":"    at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:174:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:174:12)"}}
[info] >      at ServerResponse.json (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:278:15) {"user":"    at ServerResponse.json (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:278:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.json (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:278:15)"}}
[info] >      at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:162:21) {"user":"    at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:162:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:162:21)"}}
[info] >      at /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:38:7 {"user":"    at /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:38:7","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:38:7"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    code: 'ERR_HTTP_HEADERS_SENT' {"user":"  code: 'ERR_HTTP_HEADERS_SENT'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_HTTP_HEADERS_SENT'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-01-26T12:21:11.799Z] [worker-us-central1-app-c679a405-aaf7-40d3-a685-4e6f8f84ac1a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-c679a405-aaf7-40d3-a685-4e6f8f84ac1a]: exited"}}
[debug] [2023-01-26T12:21:11.799Z] [worker-us-central1-app-c679a405-aaf7-40d3-a685-4e6f8f84ac1a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-c679a405-aaf7-40d3-a685-4e6f8f84ac1a]: FINISHED"}}
[debug] [2023-01-26T12:21:34.170Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T12:21:35.173Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T12:21:35.503Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T12:21:35.503Z] Building nodejs source
[debug] [2023-01-26T12:21:35.504Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T12:21:35.579Z] Serving at port 9005

[debug] [2023-01-26T12:21:35.726Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T12:21:35.729Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T12:21:45.913Z] [work-queue] {"queuedWork":["/chatroom-69853/us-central1/app/-2023-01-26T12:21:45.913Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-26T12:21:45.914Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chatroom-69853/us-central1/app/-2023-01-26T12:21:45.913Z"],"workRunningCount":1}
[debug] [2023-01-26T12:21:45.914Z] Accepted request GET /chatroom-69853/us-central1/app/ --> us-central1-app
[debug] [2023-01-26T12:21:45.919Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-26T12:21:45.919Z] [functions] Got req.url=/chatroom-69853/us-central1/app/, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chatroom-69853/us-central1/app/, mapping to path=/"}}
[debug] [2023-01-26T12:21:45.919Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[debug] [2023-01-26T12:21:45.928Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2023-01-26T12:21:45.929Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2023-01-26T12:21:46.249Z] [runtime-status] [57841] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57841] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-26T12:21:46.249Z] [runtime-status] [57841] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57841] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:21:46.249Z] [runtime-status] [57841] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57841] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-26T12:21:46.249Z] [runtime-status] [57841] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57841] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:21:46.263Z] [runtime-status] [57841] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57841] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-26T12:21:46.263Z] [runtime-status] [57841] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57841] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-26T12:21:46.264Z] [runtime-status] [57841] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57841] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:21:46.264Z] [runtime-status] [57841] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57841] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-26T12:21:46.264Z] [runtime-status] [57841] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57841] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:21:46.264Z] [runtime-status] [57841] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57841] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-26T12:21:46.293Z] [runtime-status] [57841] initializeApp(DEFAULT) {"storageBucket":"chatroom-69853.appspot.com","databaseURL":"https://chatroom-69853-default-rtdb.europe-west1.firebasedatabase.app","projectId":"chatroom-69853"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57841] initializeApp(DEFAULT) {\"storageBucket\":\"chatroom-69853.appspot.com\",\"databaseURL\":\"https://chatroom-69853-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"chatroom-69853\"}"}}
[debug] [2023-01-26T12:21:46.296Z] [runtime-status] [57841] Functions runtime initialized. {"cwd":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions","node_version":"16.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57841] Functions runtime initialized. {\"cwd\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions\",\"node_version\":\"16.18.0\"}"}}
[debug] [2023-01-26T12:21:46.296Z] [runtime-status] [57841] Listening to port: /var/folders/y1/2kn99b5s1q75dkydcfqvw4yr0000gn/T/fire_emu_6c66ba5071b70cfb.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57841] Listening to port: /var/folders/y1/2kn99b5s1q75dkydcfqvw4yr0000gn/T/fire_emu_6c66ba5071b70cfb.sock"}}
[debug] [2023-01-26T12:21:46.339Z] [worker-us-central1-app-27f1ae68-9957-4d0c-9fad-9c29bc9ee8a7]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-27f1ae68-9957-4d0c-9fad-9c29bc9ee8a7]: IDLE"}}
[debug] [2023-01-26T12:21:46.339Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[debug] [2023-01-26T12:21:46.339Z] [worker-us-central1-app-27f1ae68-9957-4d0c-9fad-9c29bc9ee8a7]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-27f1ae68-9957-4d0c-9fad-9c29bc9ee8a7]: BUSY"}}
[info] i  functions: Beginning execution of "app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"app\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-26T12:21:46.981Z] [worker-us-central1-app-27f1ae68-9957-4d0c-9fad-9c29bc9ee8a7]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-27f1ae68-9957-4d0c-9fad-9c29bc9ee8a7]: IDLE"}}
[debug] [2023-01-26T12:21:46.982Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "app" in 637.909291ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"app\" in 637.909291ms"}}
[info] >  node:internal/errors:478 {"user":"node:internal/errors:478","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m node:internal/errors:478"}}
[info] >      ErrorCaptureStackTrace(err); {"user":"    ErrorCaptureStackTrace(err);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     ErrorCaptureStackTrace(err);"}}
[info] >      ^ {"user":"    ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client {"user":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client"}}
[info] >      at new NodeError (node:internal/errors:387:5) {"user":"    at new NodeError (node:internal/errors:387:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at new NodeError (node:internal/errors:387:5)"}}
[info] >      at ServerResponse.setHeader (node:_http_outgoing:644:11) {"user":"    at ServerResponse.setHeader (node:_http_outgoing:644:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.setHeader (node:_http_outgoing:644:11)"}}
[info] >      at ServerResponse.header (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:794:10) {"user":"    at ServerResponse.header (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:794:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.header (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:794:10)"}}
[info] >      at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:174:12) {"user":"    at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:174:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:174:12)"}}
[info] >      at ServerResponse.json (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:278:15) {"user":"    at ServerResponse.json (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:278:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.json (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:278:15)"}}
[info] >      at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:162:21) {"user":"    at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:162:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:162:21)"}}
[info] >      at /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:39:7 {"user":"    at /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:39:7","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:39:7"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    code: 'ERR_HTTP_HEADERS_SENT' {"user":"  code: 'ERR_HTTP_HEADERS_SENT'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_HTTP_HEADERS_SENT'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-01-26T12:21:46.992Z] [worker-us-central1-app-27f1ae68-9957-4d0c-9fad-9c29bc9ee8a7]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-27f1ae68-9957-4d0c-9fad-9c29bc9ee8a7]: exited"}}
[debug] [2023-01-26T12:21:46.992Z] [worker-us-central1-app-27f1ae68-9957-4d0c-9fad-9c29bc9ee8a7]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-27f1ae68-9957-4d0c-9fad-9c29bc9ee8a7]: FINISHED"}}
[debug] [2023-01-26T12:22:28.532Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T12:22:29.533Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T12:22:29.859Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T12:22:29.859Z] Building nodejs source
[debug] [2023-01-26T12:22:29.859Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T12:22:29.930Z] Serving at port 9005

[debug] [2023-01-26T12:22:29.958Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T12:22:29.960Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T12:25:49.624Z] [work-queue] {"queuedWork":["/chatroom-69853/us-central1/app/-2023-01-26T12:25:49.624Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-26T12:25:49.624Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chatroom-69853/us-central1/app/-2023-01-26T12:25:49.624Z"],"workRunningCount":1}
[debug] [2023-01-26T12:25:49.624Z] Accepted request GET /chatroom-69853/us-central1/app/ --> us-central1-app
[debug] [2023-01-26T12:25:49.627Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-26T12:25:49.628Z] [functions] Got req.url=/chatroom-69853/us-central1/app/, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chatroom-69853/us-central1/app/, mapping to path=/"}}
[debug] [2023-01-26T12:25:49.628Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[debug] [2023-01-26T12:25:49.638Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2023-01-26T12:25:49.638Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2023-01-26T12:25:49.957Z] [runtime-status] [58081] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58081] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-26T12:25:49.958Z] [runtime-status] [58081] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58081] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:25:49.958Z] [runtime-status] [58081] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58081] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-26T12:25:49.958Z] [runtime-status] [58081] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58081] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:25:49.972Z] [runtime-status] [58081] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58081] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-26T12:25:49.972Z] [runtime-status] [58081] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58081] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-26T12:25:49.972Z] [runtime-status] [58081] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58081] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:25:49.972Z] [runtime-status] [58081] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58081] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-26T12:25:49.973Z] [runtime-status] [58081] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58081] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:25:49.973Z] [runtime-status] [58081] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58081] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-26T12:25:50.002Z] [runtime-status] [58081] initializeApp(DEFAULT) {"storageBucket":"chatroom-69853.appspot.com","databaseURL":"https://chatroom-69853-default-rtdb.europe-west1.firebasedatabase.app","projectId":"chatroom-69853"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58081] initializeApp(DEFAULT) {\"storageBucket\":\"chatroom-69853.appspot.com\",\"databaseURL\":\"https://chatroom-69853-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"chatroom-69853\"}"}}
[debug] [2023-01-26T12:25:50.005Z] [runtime-status] [58081] Functions runtime initialized. {"cwd":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions","node_version":"16.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58081] Functions runtime initialized. {\"cwd\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions\",\"node_version\":\"16.18.0\"}"}}
[debug] [2023-01-26T12:25:50.005Z] [runtime-status] [58081] Listening to port: /var/folders/y1/2kn99b5s1q75dkydcfqvw4yr0000gn/T/fire_emu_e3899d507200a499.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58081] Listening to port: /var/folders/y1/2kn99b5s1q75dkydcfqvw4yr0000gn/T/fire_emu_e3899d507200a499.sock"}}
[debug] [2023-01-26T12:25:50.047Z] [worker-us-central1-app-e09ce1a1-6d92-4faa-ae85-149a3d112451]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-e09ce1a1-6d92-4faa-ae85-149a3d112451]: IDLE"}}
[debug] [2023-01-26T12:25:50.047Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[debug] [2023-01-26T12:25:50.048Z] [worker-us-central1-app-e09ce1a1-6d92-4faa-ae85-149a3d112451]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-e09ce1a1-6d92-4faa-ae85-149a3d112451]: BUSY"}}
[info] i  functions: Beginning execution of "app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"app\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-26T12:25:50.734Z] [worker-us-central1-app-e09ce1a1-6d92-4faa-ae85-149a3d112451]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-e09ce1a1-6d92-4faa-ae85-149a3d112451]: IDLE"}}
[debug] [2023-01-26T12:25:50.734Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "app" in 682.416958ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"app\" in 682.416958ms"}}
[info] >  node:internal/errors:478 {"user":"node:internal/errors:478","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m node:internal/errors:478"}}
[info] >      ErrorCaptureStackTrace(err); {"user":"    ErrorCaptureStackTrace(err);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     ErrorCaptureStackTrace(err);"}}
[info] >      ^ {"user":"    ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client {"user":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client"}}
[info] >      at new NodeError (node:internal/errors:387:5) {"user":"    at new NodeError (node:internal/errors:387:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at new NodeError (node:internal/errors:387:5)"}}
[info] >      at ServerResponse.setHeader (node:_http_outgoing:644:11) {"user":"    at ServerResponse.setHeader (node:_http_outgoing:644:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.setHeader (node:_http_outgoing:644:11)"}}
[info] >      at ServerResponse.header (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:794:10) {"user":"    at ServerResponse.header (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:794:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.header (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:794:10)"}}
[info] >      at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:174:12) {"user":"    at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:174:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:174:12)"}}
[info] >      at ServerResponse.json (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:278:15) {"user":"    at ServerResponse.json (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:278:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.json (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:278:15)"}}
[info] >      at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:162:21) {"user":"    at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:162:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:162:21)"}}
[info] >      at /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:38:7 {"user":"    at /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:38:7","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:38:7"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    code: 'ERR_HTTP_HEADERS_SENT' {"user":"  code: 'ERR_HTTP_HEADERS_SENT'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_HTTP_HEADERS_SENT'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-01-26T12:25:50.745Z] [worker-us-central1-app-e09ce1a1-6d92-4faa-ae85-149a3d112451]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-e09ce1a1-6d92-4faa-ae85-149a3d112451]: exited"}}
[debug] [2023-01-26T12:25:50.745Z] [worker-us-central1-app-e09ce1a1-6d92-4faa-ae85-149a3d112451]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-e09ce1a1-6d92-4faa-ae85-149a3d112451]: FINISHED"}}
[debug] [2023-01-26T12:29:26.824Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T12:29:27.826Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T12:29:28.241Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T12:29:28.241Z] Building nodejs source
[debug] [2023-01-26T12:29:28.241Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T12:29:28.336Z] Serving at port 9005

[debug] [2023-01-26T12:29:28.375Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T12:29:28.377Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T12:29:38.044Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T12:29:39.047Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T12:29:39.332Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T12:29:39.332Z] Building nodejs source
[debug] [2023-01-26T12:29:39.333Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T12:29:39.399Z] Serving at port 9005

[debug] [2023-01-26T12:29:39.507Z] Got response from /__/functions.yaml Failed to generate manifest from function source: SyntaxError: Unexpected number
[debug] [2023-01-26T12:29:39.509Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:
     ... rom function source: SyntaxError: Unexpected number
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: SyntaxError: Unexpected number\n\u0000","position":61,"line":0,"column":61},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:\n     ... rom function source: SyntaxError: Unexpected number\n                                         ^"}
[debug] [2023-01-26T12:29:39.512Z] shutdown requested via /__/quitquitquit

[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Unexpected number {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Unexpected number"}}
[debug] [2023-01-26T12:29:40.786Z] [work-queue] {"queuedWork":["/chatroom-69853/us-central1/app/-2023-01-26T12:29:40.786Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-26T12:29:40.787Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chatroom-69853/us-central1/app/-2023-01-26T12:29:40.786Z"],"workRunningCount":1}
[debug] [2023-01-26T12:29:40.787Z] Accepted request GET /chatroom-69853/us-central1/app/ --> us-central1-app
[debug] [2023-01-26T12:29:40.792Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-26T12:29:40.793Z] [functions] Got req.url=/chatroom-69853/us-central1/app/, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chatroom-69853/us-central1/app/, mapping to path=/"}}
[debug] [2023-01-26T12:29:40.793Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[debug] [2023-01-26T12:29:40.801Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2023-01-26T12:29:40.802Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2023-01-26T12:29:41.299Z] [runtime-status] [58326] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58326] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-26T12:29:41.300Z] [runtime-status] [58326] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58326] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:29:41.300Z] [runtime-status] [58326] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58326] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-26T12:29:41.300Z] [runtime-status] [58326] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58326] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:29:41.314Z] [runtime-status] [58326] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58326] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-26T12:29:41.314Z] [runtime-status] [58326] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58326] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-26T12:29:41.314Z] [runtime-status] [58326] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58326] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:29:41.315Z] [runtime-status] [58326] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58326] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-26T12:29:41.315Z] [runtime-status] [58326] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58326] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:29:41.315Z] [runtime-status] [58326] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58326] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:28
    let 0 / 5 = 0;
        ^

SyntaxError: Unexpected number
    at Object.compileFunction (node:vm:360:18)
    at wrapSafe (node:internal/modules/cjs/loader:1084:15)
    at Module._compile (node:internal/modules/cjs/loader:1119:27)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1209:10)
    at Module.load (node:internal/modules/cjs/loader:1033:32)
    at Function.Module._load (node:internal/modules/cjs/loader:868:12)
    at Module.require (node:internal/modules/cjs/loader:1057:19)
    at require (node:internal/modules/cjs/helpers:103:18)
    at loadTriggers (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:582:25)
    at main (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:635:32) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:28\n    let 0 / 5 = 0;\n        ^\n\nSyntaxError: Unexpected number\n    at Object.compileFunction (node:vm:360:18)\n    at wrapSafe (node:internal/modules/cjs/loader:1084:15)\n    at Module._compile (node:internal/modules/cjs/loader:1119:27)\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1209:10)\n    at Module.load (node:internal/modules/cjs/loader:1033:32)\n    at Function.Module._load (node:internal/modules/cjs/loader:868:12)\n    at Module.require (node:internal/modules/cjs/loader:1057:19)\n    at require (node:internal/modules/cjs/helpers:103:18)\n    at loadTriggers (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:582:25)\n    at main (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:635:32)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{}}}
[warn] ⚠  functions: Failed to initialize and load triggers. This shouldn't happen: Unexpected number {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Failed to initialize and load triggers. This shouldn't happen: Unexpected number"}}
[warn] ⚠  Your function was killed because it raised an unhandled error. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Your function was killed because it raised an unhandled error."}}
[debug] [2023-01-26T12:29:41.318Z] [worker-us-central1-app-4d023a5d-9a0b-4170-9ea3-5055651c19be]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-4d023a5d-9a0b-4170-9ea3-5055651c19be]: exited"}}
[debug] [2023-01-26T12:29:41.318Z] [worker-us-central1-app-4d023a5d-9a0b-4170-9ea3-5055651c19be]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-4d023a5d-9a0b-4170-9ea3-5055651c19be]: FINISHED"}}
[debug] [2023-01-26T12:29:51.500Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T12:29:52.502Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T12:29:52.757Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T12:29:52.758Z] Building nodejs source
[debug] [2023-01-26T12:29:52.758Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T12:29:52.833Z] Serving at port 9005

[debug] [2023-01-26T12:29:52.860Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T12:29:52.863Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T12:30:01.382Z] [work-queue] {"queuedWork":["/chatroom-69853/us-central1/app/-2023-01-26T12:30:01.382Z"],"queueLength":1,"runningWork":["/chatroom-69853/us-central1/app/-2023-01-26T12:29:40.786Z"],"workRunningCount":1}
[debug] [2023-01-26T12:30:01.382Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chatroom-69853/us-central1/app/-2023-01-26T12:29:40.786Z","/chatroom-69853/us-central1/app/-2023-01-26T12:30:01.382Z"],"workRunningCount":2}
[debug] [2023-01-26T12:30:01.382Z] Accepted request GET /chatroom-69853/us-central1/app/ --> us-central1-app
[debug] [2023-01-26T12:30:01.387Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-26T12:30:01.387Z] [functions] Got req.url=/chatroom-69853/us-central1/app/, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chatroom-69853/us-central1/app/, mapping to path=/"}}
[debug] [2023-01-26T12:30:01.387Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[debug] [2023-01-26T12:30:01.396Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2023-01-26T12:30:01.396Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2023-01-26T12:30:01.713Z] [runtime-status] [58365] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58365] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-26T12:30:01.714Z] [runtime-status] [58365] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58365] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:30:01.714Z] [runtime-status] [58365] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58365] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-26T12:30:01.714Z] [runtime-status] [58365] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58365] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:30:01.728Z] [runtime-status] [58365] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58365] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-26T12:30:01.729Z] [runtime-status] [58365] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58365] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-26T12:30:01.729Z] [runtime-status] [58365] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58365] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:30:01.729Z] [runtime-status] [58365] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58365] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-26T12:30:01.729Z] [runtime-status] [58365] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58365] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:30:01.729Z] [runtime-status] [58365] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58365] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-26T12:30:01.759Z] [runtime-status] [58365] initializeApp(DEFAULT) {"storageBucket":"chatroom-69853.appspot.com","databaseURL":"https://chatroom-69853-default-rtdb.europe-west1.firebasedatabase.app","projectId":"chatroom-69853"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58365] initializeApp(DEFAULT) {\"storageBucket\":\"chatroom-69853.appspot.com\",\"databaseURL\":\"https://chatroom-69853-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"chatroom-69853\"}"}}
[debug] [2023-01-26T12:30:01.762Z] [runtime-status] [58365] Functions runtime initialized. {"cwd":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions","node_version":"16.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58365] Functions runtime initialized. {\"cwd\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions\",\"node_version\":\"16.18.0\"}"}}
[debug] [2023-01-26T12:30:01.762Z] [runtime-status] [58365] Listening to port: /var/folders/y1/2kn99b5s1q75dkydcfqvw4yr0000gn/T/fire_emu_27c8609d96de9644.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58365] Listening to port: /var/folders/y1/2kn99b5s1q75dkydcfqvw4yr0000gn/T/fire_emu_27c8609d96de9644.sock"}}
[debug] [2023-01-26T12:30:01.808Z] [worker-us-central1-app-7b7c30bf-d93e-4bdd-a6e7-55052f7c72a9]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-7b7c30bf-d93e-4bdd-a6e7-55052f7c72a9]: IDLE"}}
[debug] [2023-01-26T12:30:01.808Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[debug] [2023-01-26T12:30:01.808Z] [worker-us-central1-app-7b7c30bf-d93e-4bdd-a6e7-55052f7c72a9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-7b7c30bf-d93e-4bdd-a6e7-55052f7c72a9]: BUSY"}}
[info] i  functions: Beginning execution of "app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"app\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-26T12:30:02.536Z] [worker-us-central1-app-7b7c30bf-d93e-4bdd-a6e7-55052f7c72a9]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-7b7c30bf-d93e-4bdd-a6e7-55052f7c72a9]: IDLE"}}
[debug] [2023-01-26T12:30:02.536Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chatroom-69853/us-central1/app/-2023-01-26T12:29:40.786Z"],"workRunningCount":1}
[info] i  functions: Finished "app" in 719.634709ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"app\" in 719.634709ms"}}
[debug] [2023-01-26T12:30:07.137Z] [work-queue] {"queuedWork":["/chatroom-69853/us-central1/app/-2023-01-26T12:30:07.137Z"],"queueLength":1,"runningWork":["/chatroom-69853/us-central1/app/-2023-01-26T12:29:40.786Z"],"workRunningCount":1}
[debug] [2023-01-26T12:30:07.137Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chatroom-69853/us-central1/app/-2023-01-26T12:29:40.786Z","/chatroom-69853/us-central1/app/-2023-01-26T12:30:07.137Z"],"workRunningCount":2}
[debug] [2023-01-26T12:30:07.137Z] Accepted request GET /chatroom-69853/us-central1/app/ --> us-central1-app
[debug] [2023-01-26T12:30:07.140Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-26T12:30:07.140Z] [functions] Got req.url=/chatroom-69853/us-central1/app/, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chatroom-69853/us-central1/app/, mapping to path=/"}}
[debug] [2023-01-26T12:30:07.140Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[debug] [2023-01-26T12:30:07.140Z] [worker-us-central1-app-7b7c30bf-d93e-4bdd-a6e7-55052f7c72a9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-7b7c30bf-d93e-4bdd-a6e7-55052f7c72a9]: BUSY"}}
[info] i  functions: Beginning execution of "app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"app\""}}
[debug] [2023-01-26T12:30:07.257Z] [worker-us-central1-app-7b7c30bf-d93e-4bdd-a6e7-55052f7c72a9]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-7b7c30bf-d93e-4bdd-a6e7-55052f7c72a9]: IDLE"}}
[debug] [2023-01-26T12:30:07.257Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chatroom-69853/us-central1/app/-2023-01-26T12:29:40.786Z"],"workRunningCount":1}
[info] i  functions: Finished "app" in 113.637708ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"app\" in 113.637708ms"}}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsRuntimeWorker.js:159:24)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2023-01-26T12:30:10.803Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-26T12:30:21.704Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T12:30:22.708Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T12:30:23.043Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T12:30:23.043Z] Building nodejs source
[debug] [2023-01-26T12:30:23.046Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T12:30:23.050Z] [work-queue] {"queuedWork":["/chatroom-69853/us-central1/app/-2023-01-26T12:30:23.050Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-26T12:30:23.050Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chatroom-69853/us-central1/app/-2023-01-26T12:30:23.050Z"],"workRunningCount":1}
[debug] [2023-01-26T12:30:23.050Z] Accepted request GET /chatroom-69853/us-central1/app/ --> us-central1-app
[debug] [2023-01-26T12:30:23.052Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-26T12:30:23.052Z] [functions] Got req.url=/chatroom-69853/us-central1/app/, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chatroom-69853/us-central1/app/, mapping to path=/"}}
[debug] [2023-01-26T12:30:23.052Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[debug] [2023-01-26T12:30:23.052Z] [worker-us-central1-app-7b7c30bf-d93e-4bdd-a6e7-55052f7c72a9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-7b7c30bf-d93e-4bdd-a6e7-55052f7c72a9]: BUSY"}}
[info] i  functions: Beginning execution of "app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"app\""}}
[debug] [2023-01-26T12:30:23.118Z] Serving at port 9005

[debug] [2023-01-26T12:30:23.148Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T12:30:23.151Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T12:30:23.155Z] [worker-pool] Marking BUSY worker to finish (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-app)"}}
[debug] [2023-01-26T12:30:23.155Z] [worker-us-central1-app-7b7c30bf-d93e-4bdd-a6e7-55052f7c72a9]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-7b7c30bf-d93e-4bdd-a6e7-55052f7c72a9]: FINISHING"}}
[debug] [2023-01-26T12:30:23.169Z] [worker-us-central1-app-7b7c30bf-d93e-4bdd-a6e7-55052f7c72a9]: IDLE --> FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-7b7c30bf-d93e-4bdd-a6e7-55052f7c72a9]: IDLE --> FINISHING"}}
[debug] [2023-01-26T12:30:23.169Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "app" in 115.720208ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"app\" in 115.720208ms"}}
[debug] [2023-01-26T12:30:23.171Z] [worker-us-central1-app-7b7c30bf-d93e-4bdd-a6e7-55052f7c72a9]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-7b7c30bf-d93e-4bdd-a6e7-55052f7c72a9]: exited"}}
[debug] [2023-01-26T12:30:23.171Z] [worker-us-central1-app-7b7c30bf-d93e-4bdd-a6e7-55052f7c72a9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-7b7c30bf-d93e-4bdd-a6e7-55052f7c72a9]: FINISHED"}}
[debug] [2023-01-26T12:30:29.213Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T12:30:30.216Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T12:30:30.524Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T12:30:30.524Z] Building nodejs source
[debug] [2023-01-26T12:30:30.524Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T12:30:30.528Z] [work-queue] {"queuedWork":["/chatroom-69853/us-central1/app/-2023-01-26T12:30:30.528Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-26T12:30:30.529Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chatroom-69853/us-central1/app/-2023-01-26T12:30:30.528Z"],"workRunningCount":1}
[debug] [2023-01-26T12:30:30.529Z] Accepted request GET /chatroom-69853/us-central1/app/ --> us-central1-app
[debug] [2023-01-26T12:30:30.530Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-26T12:30:30.530Z] [functions] Got req.url=/chatroom-69853/us-central1/app/, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chatroom-69853/us-central1/app/, mapping to path=/"}}
[debug] [2023-01-26T12:30:30.530Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[debug] [2023-01-26T12:30:30.534Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2023-01-26T12:30:30.534Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2023-01-26T12:30:30.594Z] Serving at port 9005

[debug] [2023-01-26T12:30:30.624Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T12:30:30.627Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T12:30:30.965Z] [runtime-status] [58418] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58418] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-26T12:30:30.966Z] [runtime-status] [58418] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58418] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:30:30.966Z] [runtime-status] [58418] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58418] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-26T12:30:30.966Z] [runtime-status] [58418] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58418] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:30:30.980Z] [runtime-status] [58418] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58418] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-26T12:30:30.980Z] [runtime-status] [58418] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58418] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-26T12:30:30.980Z] [runtime-status] [58418] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58418] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:30:30.981Z] [runtime-status] [58418] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58418] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-26T12:30:30.981Z] [runtime-status] [58418] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58418] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:30:30.981Z] [runtime-status] [58418] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58418] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-26T12:30:31.010Z] [runtime-status] [58418] initializeApp(DEFAULT) {"storageBucket":"chatroom-69853.appspot.com","databaseURL":"https://chatroom-69853-default-rtdb.europe-west1.firebasedatabase.app","projectId":"chatroom-69853"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58418] initializeApp(DEFAULT) {\"storageBucket\":\"chatroom-69853.appspot.com\",\"databaseURL\":\"https://chatroom-69853-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"chatroom-69853\"}"}}
[debug] [2023-01-26T12:30:31.012Z] [runtime-status] [58418] Functions runtime initialized. {"cwd":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions","node_version":"16.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58418] Functions runtime initialized. {\"cwd\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions\",\"node_version\":\"16.18.0\"}"}}
[debug] [2023-01-26T12:30:31.013Z] [runtime-status] [58418] Listening to port: /var/folders/y1/2kn99b5s1q75dkydcfqvw4yr0000gn/T/fire_emu_47d63c72014cc103.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58418] Listening to port: /var/folders/y1/2kn99b5s1q75dkydcfqvw4yr0000gn/T/fire_emu_47d63c72014cc103.sock"}}
[debug] [2023-01-26T12:30:31.043Z] [worker-us-central1-app-a3f9be73-b789-4071-93e2-c083519d9ab1]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-a3f9be73-b789-4071-93e2-c083519d9ab1]: IDLE"}}
[debug] [2023-01-26T12:30:31.043Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[debug] [2023-01-26T12:30:31.043Z] [worker-us-central1-app-a3f9be73-b789-4071-93e2-c083519d9ab1]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-a3f9be73-b789-4071-93e2-c083519d9ab1]: BUSY"}}
[info] i  functions: Beginning execution of "app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"app\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-26T12:30:31.652Z] [worker-us-central1-app-a3f9be73-b789-4071-93e2-c083519d9ab1]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-a3f9be73-b789-4071-93e2-c083519d9ab1]: IDLE"}}
[debug] [2023-01-26T12:30:31.652Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "app" in 601.133958ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"app\" in 601.133958ms"}}
[debug] [2023-01-26T12:30:37.139Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T12:30:38.139Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T12:30:38.415Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T12:30:38.415Z] Building nodejs source
[debug] [2023-01-26T12:30:38.415Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T12:30:38.489Z] Serving at port 9005

[debug] [2023-01-26T12:30:38.523Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T12:30:38.525Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T12:30:38.530Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2023-01-26T12:30:38.530Z] [worker-us-central1-app-a3f9be73-b789-4071-93e2-c083519d9ab1]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-a3f9be73-b789-4071-93e2-c083519d9ab1]: FINISHING"}}
[debug] [2023-01-26T12:30:38.532Z] [worker-us-central1-app-a3f9be73-b789-4071-93e2-c083519d9ab1]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-a3f9be73-b789-4071-93e2-c083519d9ab1]: exited"}}
[debug] [2023-01-26T12:30:38.532Z] [worker-us-central1-app-a3f9be73-b789-4071-93e2-c083519d9ab1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-a3f9be73-b789-4071-93e2-c083519d9ab1]: FINISHED"}}
[debug] [2023-01-26T12:30:45.113Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T12:30:45.214Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T12:30:46.218Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T12:30:46.504Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T12:30:46.504Z] Building nodejs source
[debug] [2023-01-26T12:30:46.504Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T12:30:46.576Z] Serving at port 9005

[debug] [2023-01-26T12:30:46.606Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T12:30:46.610Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T12:30:46.726Z] [work-queue] {"queuedWork":["/chatroom-69853/us-central1/app/-2023-01-26T12:30:46.726Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-26T12:30:46.726Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chatroom-69853/us-central1/app/-2023-01-26T12:30:46.726Z"],"workRunningCount":1}
[debug] [2023-01-26T12:30:46.726Z] Accepted request GET /chatroom-69853/us-central1/app/ --> us-central1-app
[debug] [2023-01-26T12:30:46.727Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-26T12:30:46.727Z] [functions] Got req.url=/chatroom-69853/us-central1/app/, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chatroom-69853/us-central1/app/, mapping to path=/"}}
[debug] [2023-01-26T12:30:46.727Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[debug] [2023-01-26T12:30:46.731Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2023-01-26T12:30:46.731Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2023-01-26T12:30:47.041Z] [runtime-status] [58468] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58468] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-26T12:30:47.041Z] [runtime-status] [58468] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58468] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:30:47.041Z] [runtime-status] [58468] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58468] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-26T12:30:47.042Z] [runtime-status] [58468] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58468] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:30:47.057Z] [runtime-status] [58468] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58468] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-26T12:30:47.057Z] [runtime-status] [58468] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58468] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-26T12:30:47.057Z] [runtime-status] [58468] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58468] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:30:47.057Z] [runtime-status] [58468] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58468] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-26T12:30:47.058Z] [runtime-status] [58468] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58468] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T12:30:47.058Z] [runtime-status] [58468] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58468] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-26T12:30:47.090Z] [runtime-status] [58468] initializeApp(DEFAULT) {"storageBucket":"chatroom-69853.appspot.com","databaseURL":"https://chatroom-69853-default-rtdb.europe-west1.firebasedatabase.app","projectId":"chatroom-69853"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58468] initializeApp(DEFAULT) {\"storageBucket\":\"chatroom-69853.appspot.com\",\"databaseURL\":\"https://chatroom-69853-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"chatroom-69853\"}"}}
[debug] [2023-01-26T12:30:47.093Z] [runtime-status] [58468] Functions runtime initialized. {"cwd":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions","node_version":"16.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58468] Functions runtime initialized. {\"cwd\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions\",\"node_version\":\"16.18.0\"}"}}
[debug] [2023-01-26T12:30:47.093Z] [runtime-status] [58468] Listening to port: /var/folders/y1/2kn99b5s1q75dkydcfqvw4yr0000gn/T/fire_emu_1ee4dafc348979e5.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58468] Listening to port: /var/folders/y1/2kn99b5s1q75dkydcfqvw4yr0000gn/T/fire_emu_1ee4dafc348979e5.sock"}}
[debug] [2023-01-26T12:30:47.140Z] [worker-us-central1-app-a843ecad-3b34-44b9-98eb-9414e674d0ab]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-a843ecad-3b34-44b9-98eb-9414e674d0ab]: IDLE"}}
[debug] [2023-01-26T12:30:47.140Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[debug] [2023-01-26T12:30:47.140Z] [worker-us-central1-app-a843ecad-3b34-44b9-98eb-9414e674d0ab]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-a843ecad-3b34-44b9-98eb-9414e674d0ab]: BUSY"}}
[info] i  functions: Beginning execution of "app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"app\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  get / Error: hehehehe {"user":"get / Error: hehehehe","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m get / Error: hehehehe"}}
[info] >      at /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:35:11 {"user":"    at /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:35:11","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:35:11"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[info] >  Thu, 26 Jan 2023 12:30:47 GMT express deprecated res.send(status, body): Use res.status(status).send(body) instead at index.js:40:9 {"user":"Thu, 26 Jan 2023 12:30:47 GMT express deprecated res.send(status, body): Use res.status(status).send(body) instead at index.js:40:9","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Thu, 26 Jan 2023 12:30:47 GMT express deprecated res.send(status, body): Use res.status(status).send(body) instead at index.js:40:9"}}
[debug] [2023-01-26T12:30:47.788Z] [worker-us-central1-app-a843ecad-3b34-44b9-98eb-9414e674d0ab]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-a843ecad-3b34-44b9-98eb-9414e674d0ab]: IDLE"}}
[debug] [2023-01-26T12:30:47.788Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "app" in 642.500792ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"app\" in 642.500792ms"}}
[debug] [2023-01-26T12:31:43.897Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T12:31:44.900Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T12:31:45.240Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T12:31:45.240Z] Building nodejs source
[debug] [2023-01-26T12:31:45.240Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T12:31:45.341Z] Serving at port 9005

[debug] [2023-01-26T12:31:45.385Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T12:31:45.387Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T12:31:45.391Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2023-01-26T12:31:45.391Z] [worker-us-central1-app-a843ecad-3b34-44b9-98eb-9414e674d0ab]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-a843ecad-3b34-44b9-98eb-9414e674d0ab]: FINISHING"}}
[debug] [2023-01-26T12:31:45.395Z] [worker-us-central1-app-a843ecad-3b34-44b9-98eb-9414e674d0ab]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-a843ecad-3b34-44b9-98eb-9414e674d0ab]: exited"}}
[debug] [2023-01-26T12:31:45.395Z] [worker-us-central1-app-a843ecad-3b34-44b9-98eb-9414e674d0ab]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-a843ecad-3b34-44b9-98eb-9414e674d0ab]: FINISHED"}}
[debug] [2023-01-26T12:33:59.145Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T12:34:00.147Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T12:34:00.429Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T12:34:00.429Z] Building nodejs source
[debug] [2023-01-26T12:34:00.430Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T12:34:00.500Z] Serving at port 9005

[debug] [2023-01-26T12:34:00.528Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T12:34:00.530Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T12:34:52.236Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T12:34:53.239Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T12:34:54.278Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T12:34:54.278Z] Building nodejs source
[debug] [2023-01-26T12:34:54.278Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T12:34:54.356Z] Serving at port 9005

[debug] [2023-01-26T12:34:54.385Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T12:34:54.388Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T12:37:36.873Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T12:37:37.877Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T12:37:38.242Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T12:37:38.242Z] Building nodejs source
[debug] [2023-01-26T12:37:38.243Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T12:37:38.337Z] Serving at port 9005

[debug] [2023-01-26T12:37:38.377Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T12:37:38.379Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T12:48:18.010Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T12:48:19.012Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T12:48:19.436Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T12:48:19.436Z] Building nodejs source
[debug] [2023-01-26T12:48:19.437Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T12:48:19.544Z] Serving at port 9005

[debug] [2023-01-26T12:48:19.590Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T12:48:19.592Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T13:39:53.583Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T13:39:54.587Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T13:39:55.000Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T13:39:55.000Z] Building nodejs source
[debug] [2023-01-26T13:39:55.001Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T13:39:55.100Z] Serving at port 9005

[debug] [2023-01-26T13:39:55.140Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T13:39:55.142Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T13:42:57.192Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T13:42:58.195Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T13:42:58.473Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T13:42:58.473Z] Building nodejs source
[debug] [2023-01-26T13:42:58.473Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T13:42:58.544Z] Serving at port 9005

[debug] [2023-01-26T13:42:58.679Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T13:42:58.682Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T13:43:29.132Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T13:43:30.134Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T13:43:30.424Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T13:43:30.424Z] Building nodejs source
[debug] [2023-01-26T13:43:30.424Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T13:43:30.515Z] Serving at port 9005

[debug] [2023-01-26T13:43:30.558Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T13:43:30.560Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T13:46:24.734Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T13:46:25.737Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T13:46:26.079Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T13:46:26.079Z] Building nodejs source
[debug] [2023-01-26T13:46:26.080Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T13:46:26.174Z] Serving at port 9005

[debug] [2023-01-26T13:46:26.217Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T13:46:26.219Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T13:48:02.120Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T13:48:03.121Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T13:48:03.448Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T13:48:03.449Z] Building nodejs source
[debug] [2023-01-26T13:48:03.449Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T13:48:03.540Z] Serving at port 9005

[debug] [2023-01-26T13:48:03.698Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T13:48:03.700Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T13:48:40.495Z] [work-queue] {"queuedWork":["/chatroom-69853/us-central1/app/-2023-01-26T13:48:40.495Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-26T13:48:40.495Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chatroom-69853/us-central1/app/-2023-01-26T13:48:40.495Z"],"workRunningCount":1}
[debug] [2023-01-26T13:48:40.495Z] Accepted request GET /chatroom-69853/us-central1/app/ --> us-central1-app
[debug] [2023-01-26T13:48:40.503Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-26T13:48:40.503Z] [functions] Got req.url=/chatroom-69853/us-central1/app/, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chatroom-69853/us-central1/app/, mapping to path=/"}}
[debug] [2023-01-26T13:48:40.503Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[debug] [2023-01-26T13:48:40.511Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2023-01-26T13:48:40.512Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2023-01-26T13:48:41.068Z] [runtime-status] [61818] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61818] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-26T13:48:41.068Z] [runtime-status] [61818] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61818] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T13:48:41.068Z] [runtime-status] [61818] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61818] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-26T13:48:41.069Z] [runtime-status] [61818] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61818] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T13:48:41.089Z] [runtime-status] [61818] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61818] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-26T13:48:41.089Z] [runtime-status] [61818] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61818] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-26T13:48:41.089Z] [runtime-status] [61818] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61818] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T13:48:41.090Z] [runtime-status] [61818] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61818] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-26T13:48:41.090Z] [runtime-status] [61818] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61818] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T13:48:41.090Z] [runtime-status] [61818] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61818] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-26T13:48:41.141Z] [runtime-status] [61818] initializeApp(DEFAULT) {"storageBucket":"chatroom-69853.appspot.com","databaseURL":"https://chatroom-69853-default-rtdb.europe-west1.firebasedatabase.app","projectId":"chatroom-69853"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61818] initializeApp(DEFAULT) {\"storageBucket\":\"chatroom-69853.appspot.com\",\"databaseURL\":\"https://chatroom-69853-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"chatroom-69853\"}"}}
[debug] [2023-01-26T13:48:41.144Z] [runtime-status] [61818] Functions runtime initialized. {"cwd":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions","node_version":"16.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61818] Functions runtime initialized. {\"cwd\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions\",\"node_version\":\"16.18.0\"}"}}
[debug] [2023-01-26T13:48:41.144Z] [runtime-status] [61818] Listening to port: /var/folders/y1/2kn99b5s1q75dkydcfqvw4yr0000gn/T/fire_emu_8ee6504d01aea81c.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61818] Listening to port: /var/folders/y1/2kn99b5s1q75dkydcfqvw4yr0000gn/T/fire_emu_8ee6504d01aea81c.sock"}}
[debug] [2023-01-26T13:48:41.226Z] [worker-us-central1-app-f713a0fa-0d29-49bc-baf7-282c6b6818ed]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-f713a0fa-0d29-49bc-baf7-282c6b6818ed]: IDLE"}}
[debug] [2023-01-26T13:48:41.226Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[debug] [2023-01-26T13:48:41.226Z] [worker-us-central1-app-f713a0fa-0d29-49bc-baf7-282c6b6818ed]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-f713a0fa-0d29-49bc-baf7-282c6b6818ed]: BUSY"}}
[info] i  functions: Beginning execution of "app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"app\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-26T13:48:41.993Z] [worker-us-central1-app-f713a0fa-0d29-49bc-baf7-282c6b6818ed]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-f713a0fa-0d29-49bc-baf7-282c6b6818ed]: IDLE"}}
[debug] [2023-01-26T13:48:41.994Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "app" in 758.80275ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"app\" in 758.80275ms"}}
[debug] [2023-01-26T13:48:56.542Z] [work-queue] {"queuedWork":["/chatroom-69853/us-central1/app/chat-2023-01-26T13:48:56.542Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-26T13:48:56.543Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chatroom-69853/us-central1/app/chat-2023-01-26T13:48:56.542Z"],"workRunningCount":1}
[debug] [2023-01-26T13:48:56.543Z] Accepted request POST /chatroom-69853/us-central1/app/chat --> us-central1-app
[debug] [2023-01-26T13:48:56.546Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-26T13:48:56.546Z] [functions] Got req.url=/chatroom-69853/us-central1/app/chat, mapping to path=/chat {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chatroom-69853/us-central1/app/chat, mapping to path=/chat"}}
[debug] [2023-01-26T13:48:56.546Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[debug] [2023-01-26T13:48:56.547Z] [worker-us-central1-app-f713a0fa-0d29-49bc-baf7-282c6b6818ed]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-f713a0fa-0d29-49bc-baf7-282c6b6818ed]: BUSY"}}
[info] i  functions: Beginning execution of "app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"app\""}}
[debug] [2023-01-26T13:48:56.717Z] [worker-us-central1-app-f713a0fa-0d29-49bc-baf7-282c6b6818ed]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-f713a0fa-0d29-49bc-baf7-282c6b6818ed]: IDLE"}}
[debug] [2023-01-26T13:48:56.717Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "app" in 165.718208ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"app\" in 165.718208ms"}}
[info] >  post / Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client {"user":"post / Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m post / Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client"}}
[info] >      at new NodeError (node:internal/errors:387:5) {"user":"    at new NodeError (node:internal/errors:387:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at new NodeError (node:internal/errors:387:5)"}}
[info] >      at ServerResponse.setHeader (node:_http_outgoing:644:11) {"user":"    at ServerResponse.setHeader (node:_http_outgoing:644:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.setHeader (node:_http_outgoing:644:11)"}}
[info] >      at ServerResponse.header (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:794:10) {"user":"    at ServerResponse.header (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:794:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.header (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:794:10)"}}
[info] >      at ServerResponse.json (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:275:10) {"user":"    at ServerResponse.json (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.json (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:275:10)"}}
[info] >      at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:162:21) {"user":"    at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:162:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:162:21)"}}
[info] >      at /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:60:9 {"user":"    at /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:60:9","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:60:9"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    code: 'ERR_HTTP_HEADERS_SENT' {"user":"  code: 'ERR_HTTP_HEADERS_SENT'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_HTTP_HEADERS_SENT'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Thu, 26 Jan 2023 13:48:56 GMT express deprecated res.send(status, body): Use res.status(status).send(body) instead at index.js:66:9 {"user":"Thu, 26 Jan 2023 13:48:56 GMT express deprecated res.send(status, body): Use res.status(status).send(body) instead at index.js:66:9","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Thu, 26 Jan 2023 13:48:56 GMT express deprecated res.send(status, body): Use res.status(status).send(body) instead at index.js:66:9"}}
[info] >  node:internal/errors:478 {"user":"node:internal/errors:478","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m node:internal/errors:478"}}
[info] >      ErrorCaptureStackTrace(err); {"user":"    ErrorCaptureStackTrace(err);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     ErrorCaptureStackTrace(err);"}}
[info] >      ^ {"user":"    ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client {"user":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client"}}
[info] >      at new NodeError (node:internal/errors:387:5) {"user":"    at new NodeError (node:internal/errors:387:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at new NodeError (node:internal/errors:387:5)"}}
[info] >      at ServerResponse.setHeader (node:_http_outgoing:644:11) {"user":"    at ServerResponse.setHeader (node:_http_outgoing:644:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.setHeader (node:_http_outgoing:644:11)"}}
[info] >      at ServerResponse.header (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:794:10) {"user":"    at ServerResponse.header (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:794:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.header (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:794:10)"}}
[info] >      at ServerResponse.contentType (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:624:15) {"user":"    at ServerResponse.contentType (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:624:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.contentType (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:624:15)"}}
[info] >      at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:149:14) {"user":"    at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:149:14)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:149:14)"}}
[info] >      at /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:66:9 {"user":"    at /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:66:9","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:66:9"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    code: 'ERR_HTTP_HEADERS_SENT' {"user":"  code: 'ERR_HTTP_HEADERS_SENT'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_HTTP_HEADERS_SENT'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-01-26T13:48:56.837Z] [worker-us-central1-app-f713a0fa-0d29-49bc-baf7-282c6b6818ed]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-f713a0fa-0d29-49bc-baf7-282c6b6818ed]: exited"}}
[debug] [2023-01-26T13:48:56.838Z] [worker-us-central1-app-f713a0fa-0d29-49bc-baf7-282c6b6818ed]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-f713a0fa-0d29-49bc-baf7-282c6b6818ed]: FINISHED"}}
[debug] [2023-01-26T13:49:00.523Z] [work-queue] {"queuedWork":["/chatroom-69853/us-central1/app/chat-2023-01-26T13:49:00.523Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-26T13:49:00.523Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chatroom-69853/us-central1/app/chat-2023-01-26T13:49:00.523Z"],"workRunningCount":1}
[debug] [2023-01-26T13:49:00.524Z] Accepted request POST /chatroom-69853/us-central1/app/chat --> us-central1-app
[debug] [2023-01-26T13:49:00.529Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-26T13:49:00.529Z] [functions] Got req.url=/chatroom-69853/us-central1/app/chat, mapping to path=/chat {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chatroom-69853/us-central1/app/chat, mapping to path=/chat"}}
[debug] [2023-01-26T13:49:00.529Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[debug] [2023-01-26T13:49:00.535Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2023-01-26T13:49:00.535Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2023-01-26T13:49:00.855Z] [runtime-status] [61844] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61844] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-26T13:49:00.856Z] [runtime-status] [61844] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61844] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T13:49:00.856Z] [runtime-status] [61844] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61844] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-26T13:49:00.856Z] [runtime-status] [61844] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61844] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T13:49:00.870Z] [runtime-status] [61844] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61844] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-26T13:49:00.870Z] [runtime-status] [61844] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61844] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-26T13:49:00.870Z] [runtime-status] [61844] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61844] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T13:49:00.871Z] [runtime-status] [61844] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61844] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-26T13:49:00.871Z] [runtime-status] [61844] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61844] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T13:49:00.872Z] [runtime-status] [61844] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61844] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-26T13:49:00.900Z] [runtime-status] [61844] initializeApp(DEFAULT) {"storageBucket":"chatroom-69853.appspot.com","databaseURL":"https://chatroom-69853-default-rtdb.europe-west1.firebasedatabase.app","projectId":"chatroom-69853"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61844] initializeApp(DEFAULT) {\"storageBucket\":\"chatroom-69853.appspot.com\",\"databaseURL\":\"https://chatroom-69853-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"chatroom-69853\"}"}}
[debug] [2023-01-26T13:49:00.903Z] [runtime-status] [61844] Functions runtime initialized. {"cwd":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions","node_version":"16.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61844] Functions runtime initialized. {\"cwd\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions\",\"node_version\":\"16.18.0\"}"}}
[debug] [2023-01-26T13:49:00.903Z] [runtime-status] [61844] Listening to port: /var/folders/y1/2kn99b5s1q75dkydcfqvw4yr0000gn/T/fire_emu_b400405000e30f91.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61844] Listening to port: /var/folders/y1/2kn99b5s1q75dkydcfqvw4yr0000gn/T/fire_emu_b400405000e30f91.sock"}}
[debug] [2023-01-26T13:49:00.946Z] [worker-us-central1-app-25120c81-1e74-44ee-bad3-687e188ca770]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-25120c81-1e74-44ee-bad3-687e188ca770]: IDLE"}}
[debug] [2023-01-26T13:49:00.946Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[debug] [2023-01-26T13:49:00.946Z] [worker-us-central1-app-25120c81-1e74-44ee-bad3-687e188ca770]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-25120c81-1e74-44ee-bad3-687e188ca770]: BUSY"}}
[info] i  functions: Beginning execution of "app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"app\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-26T13:49:01.595Z] [worker-us-central1-app-25120c81-1e74-44ee-bad3-687e188ca770]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-25120c81-1e74-44ee-bad3-687e188ca770]: IDLE"}}
[debug] [2023-01-26T13:49:01.596Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "app" in 644.819625ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"app\" in 644.819625ms"}}
[info] >  post / Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client {"user":"post / Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m post / Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client"}}
[info] >      at new NodeError (node:internal/errors:387:5) {"user":"    at new NodeError (node:internal/errors:387:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at new NodeError (node:internal/errors:387:5)"}}
[info] >      at ServerResponse.setHeader (node:_http_outgoing:644:11) {"user":"    at ServerResponse.setHeader (node:_http_outgoing:644:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.setHeader (node:_http_outgoing:644:11)"}}
[info] >      at ServerResponse.header (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:794:10) {"user":"    at ServerResponse.header (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:794:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.header (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:794:10)"}}
[info] >      at ServerResponse.json (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:275:10) {"user":"    at ServerResponse.json (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.json (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:275:10)"}}
[info] >      at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:162:21) {"user":"    at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:162:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:162:21)"}}
[info] >      at /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:60:9 {"user":"    at /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:60:9","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:60:9"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    code: 'ERR_HTTP_HEADERS_SENT' {"user":"  code: 'ERR_HTTP_HEADERS_SENT'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_HTTP_HEADERS_SENT'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Thu, 26 Jan 2023 13:49:01 GMT express deprecated res.send(status, body): Use res.status(status).send(body) instead at index.js:66:9 {"user":"Thu, 26 Jan 2023 13:49:01 GMT express deprecated res.send(status, body): Use res.status(status).send(body) instead at index.js:66:9","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Thu, 26 Jan 2023 13:49:01 GMT express deprecated res.send(status, body): Use res.status(status).send(body) instead at index.js:66:9"}}
[info] >  node:internal/errors:478 {"user":"node:internal/errors:478","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m node:internal/errors:478"}}
[info] >      ErrorCaptureStackTrace(err); {"user":"    ErrorCaptureStackTrace(err);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     ErrorCaptureStackTrace(err);"}}
[info] >      ^ {"user":"    ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client {"user":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client"}}
[info] >      at new NodeError (node:internal/errors:387:5) {"user":"    at new NodeError (node:internal/errors:387:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at new NodeError (node:internal/errors:387:5)"}}
[info] >      at ServerResponse.setHeader (node:_http_outgoing:644:11) {"user":"    at ServerResponse.setHeader (node:_http_outgoing:644:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.setHeader (node:_http_outgoing:644:11)"}}
[info] >      at ServerResponse.header (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:794:10) {"user":"    at ServerResponse.header (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:794:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.header (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:794:10)"}}
[info] >      at ServerResponse.contentType (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:624:15) {"user":"    at ServerResponse.contentType (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:624:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.contentType (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:624:15)"}}
[info] >      at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:149:14) {"user":"    at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:149:14)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServerResponse.send (/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/express/lib/response.js:149:14)"}}
[info] >      at /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:66:9 {"user":"    at /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:66:9","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js:66:9"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    code: 'ERR_HTTP_HEADERS_SENT' {"user":"  code: 'ERR_HTTP_HEADERS_SENT'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_HTTP_HEADERS_SENT'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-01-26T13:49:01.723Z] [worker-us-central1-app-25120c81-1e74-44ee-bad3-687e188ca770]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-25120c81-1e74-44ee-bad3-687e188ca770]: exited"}}
[debug] [2023-01-26T13:49:01.723Z] [worker-us-central1-app-25120c81-1e74-44ee-bad3-687e188ca770]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-25120c81-1e74-44ee-bad3-687e188ca770]: FINISHED"}}
[debug] [2023-01-26T13:50:10.301Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T13:50:11.303Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T13:50:11.641Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T13:50:11.641Z] Building nodejs source
[debug] [2023-01-26T13:50:11.641Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T13:50:11.712Z] Serving at port 9005

[debug] [2023-01-26T13:50:11.741Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T13:50:11.743Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T13:50:14.741Z] [work-queue] {"queuedWork":["/chatroom-69853/us-central1/app/chat-2023-01-26T13:50:14.741Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-26T13:50:14.742Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chatroom-69853/us-central1/app/chat-2023-01-26T13:50:14.741Z"],"workRunningCount":1}
[debug] [2023-01-26T13:50:14.742Z] Accepted request POST /chatroom-69853/us-central1/app/chat --> us-central1-app
[debug] [2023-01-26T13:50:14.745Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-26T13:50:14.745Z] [functions] Got req.url=/chatroom-69853/us-central1/app/chat, mapping to path=/chat {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chatroom-69853/us-central1/app/chat, mapping to path=/chat"}}
[debug] [2023-01-26T13:50:14.745Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[debug] [2023-01-26T13:50:14.754Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2023-01-26T13:50:14.755Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2023-01-26T13:50:15.075Z] [runtime-status] [61926] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61926] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-26T13:50:15.075Z] [runtime-status] [61926] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61926] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T13:50:15.075Z] [runtime-status] [61926] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61926] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-26T13:50:15.076Z] [runtime-status] [61926] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61926] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T13:50:15.090Z] [runtime-status] [61926] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61926] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-26T13:50:15.090Z] [runtime-status] [61926] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61926] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-26T13:50:15.090Z] [runtime-status] [61926] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61926] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T13:50:15.090Z] [runtime-status] [61926] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61926] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-26T13:50:15.090Z] [runtime-status] [61926] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61926] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T13:50:15.090Z] [runtime-status] [61926] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61926] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-26T13:50:15.120Z] [runtime-status] [61926] initializeApp(DEFAULT) {"storageBucket":"chatroom-69853.appspot.com","databaseURL":"https://chatroom-69853-default-rtdb.europe-west1.firebasedatabase.app","projectId":"chatroom-69853"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61926] initializeApp(DEFAULT) {\"storageBucket\":\"chatroom-69853.appspot.com\",\"databaseURL\":\"https://chatroom-69853-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"chatroom-69853\"}"}}
[debug] [2023-01-26T13:50:15.123Z] [runtime-status] [61926] Functions runtime initialized. {"cwd":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions","node_version":"16.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61926] Functions runtime initialized. {\"cwd\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions\",\"node_version\":\"16.18.0\"}"}}
[debug] [2023-01-26T13:50:15.123Z] [runtime-status] [61926] Listening to port: /var/folders/y1/2kn99b5s1q75dkydcfqvw4yr0000gn/T/fire_emu_d701c5d80c03ae12.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61926] Listening to port: /var/folders/y1/2kn99b5s1q75dkydcfqvw4yr0000gn/T/fire_emu_d701c5d80c03ae12.sock"}}
[debug] [2023-01-26T13:50:15.164Z] [worker-us-central1-app-3a2758e3-03e2-4b9c-b2ad-508b0c3b18ea]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-3a2758e3-03e2-4b9c-b2ad-508b0c3b18ea]: IDLE"}}
[debug] [2023-01-26T13:50:15.164Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[debug] [2023-01-26T13:50:15.164Z] [worker-us-central1-app-3a2758e3-03e2-4b9c-b2ad-508b0c3b18ea]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-3a2758e3-03e2-4b9c-b2ad-508b0c3b18ea]: BUSY"}}
[info] i  functions: Beginning execution of "app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"app\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-26T13:50:15.942Z] [worker-us-central1-app-3a2758e3-03e2-4b9c-b2ad-508b0c3b18ea]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-3a2758e3-03e2-4b9c-b2ad-508b0c3b18ea]: IDLE"}}
[debug] [2023-01-26T13:50:15.943Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "app" in 771.840125ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"app\" in 771.840125ms"}}
[debug] [2023-01-26T14:00:09.197Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T14:00:10.199Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T14:00:10.552Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T14:00:10.552Z] Building nodejs source
[debug] [2023-01-26T14:00:10.552Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T14:00:10.655Z] Serving at port 9005

[debug] [2023-01-26T14:00:10.664Z] Got response from /__/functions.yaml Failed to generate manifest from function source: SyntaxError: Missing catch or finally after try
[debug] [2023-01-26T14:00:10.664Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:
     ... rom function source: SyntaxError: Missing catch or finally after try
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: SyntaxError: Missing catch or finally after try\n\u0000","position":61,"line":0,"column":61},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:\n     ... rom function source: SyntaxError: Missing catch or finally after try\n                                         ^"}
[debug] [2023-01-26T14:00:10.667Z] shutdown requested via /__/quitquitquit

[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Missing catch or finally after try {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Missing catch or finally after try"}}
[debug] [2023-01-26T14:00:51.347Z] [work-queue] {"queuedWork":["/chatroom-69853/us-central1/app/chat/lkmYNplyQE0kLQUZRr08-2023-01-26T14:00:51.347Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-26T14:00:51.347Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chatroom-69853/us-central1/app/chat/lkmYNplyQE0kLQUZRr08-2023-01-26T14:00:51.347Z"],"workRunningCount":1}
[debug] [2023-01-26T14:00:51.347Z] Accepted request DELETE /chatroom-69853/us-central1/app/chat/lkmYNplyQE0kLQUZRr08 --> us-central1-app
[debug] [2023-01-26T14:00:51.352Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-26T14:00:51.352Z] [functions] Got req.url=/chatroom-69853/us-central1/app/chat/lkmYNplyQE0kLQUZRr08, mapping to path=/chat/lkmYNplyQE0kLQUZRr08 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chatroom-69853/us-central1/app/chat/lkmYNplyQE0kLQUZRr08, mapping to path=/chat/lkmYNplyQE0kLQUZRr08"}}
[debug] [2023-01-26T14:00:51.353Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[debug] [2023-01-26T14:00:51.353Z] [worker-us-central1-app-3a2758e3-03e2-4b9c-b2ad-508b0c3b18ea]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-3a2758e3-03e2-4b9c-b2ad-508b0c3b18ea]: BUSY"}}
[info] i  functions: Beginning execution of "app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"app\""}}
[debug] [2023-01-26T14:00:51.623Z] [worker-us-central1-app-3a2758e3-03e2-4b9c-b2ad-508b0c3b18ea]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-3a2758e3-03e2-4b9c-b2ad-508b0c3b18ea]: IDLE"}}
[debug] [2023-01-26T14:00:51.625Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "app" in 265.119125ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"app\" in 265.119125ms"}}
[debug] [2023-01-26T14:01:10.035Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T14:01:11.038Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T14:01:11.370Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T14:01:11.370Z] Building nodejs source
[debug] [2023-01-26T14:01:11.370Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T14:01:11.464Z] Serving at port 9005

[debug] [2023-01-26T14:01:11.512Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T14:01:11.519Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T14:01:11.522Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2023-01-26T14:01:11.522Z] [worker-us-central1-app-3a2758e3-03e2-4b9c-b2ad-508b0c3b18ea]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-3a2758e3-03e2-4b9c-b2ad-508b0c3b18ea]: FINISHING"}}
[debug] [2023-01-26T14:01:11.524Z] [worker-us-central1-app-3a2758e3-03e2-4b9c-b2ad-508b0c3b18ea]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-3a2758e3-03e2-4b9c-b2ad-508b0c3b18ea]: exited"}}
[debug] [2023-01-26T14:01:11.525Z] [worker-us-central1-app-3a2758e3-03e2-4b9c-b2ad-508b0c3b18ea]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-3a2758e3-03e2-4b9c-b2ad-508b0c3b18ea]: FINISHED"}}
[debug] [2023-01-26T14:02:37.247Z] [work-queue] {"queuedWork":["/chatroom-69853/us-central1/app/chat/kLwBC1zbdllrNzCm4VZ9-2023-01-26T14:02:37.247Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-26T14:02:37.247Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chatroom-69853/us-central1/app/chat/kLwBC1zbdllrNzCm4VZ9-2023-01-26T14:02:37.247Z"],"workRunningCount":1}
[debug] [2023-01-26T14:02:37.247Z] Accepted request DELETE /chatroom-69853/us-central1/app/chat/kLwBC1zbdllrNzCm4VZ9 --> us-central1-app
[debug] [2023-01-26T14:02:37.251Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-26T14:02:37.252Z] [functions] Got req.url=/chatroom-69853/us-central1/app/chat/kLwBC1zbdllrNzCm4VZ9, mapping to path=/chat/kLwBC1zbdllrNzCm4VZ9 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chatroom-69853/us-central1/app/chat/kLwBC1zbdllrNzCm4VZ9, mapping to path=/chat/kLwBC1zbdllrNzCm4VZ9"}}
[debug] [2023-01-26T14:02:37.252Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[debug] [2023-01-26T14:02:37.261Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2023-01-26T14:02:37.261Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2023-01-26T14:02:37.816Z] [runtime-status] [62708] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [62708] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-26T14:02:37.816Z] [runtime-status] [62708] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [62708] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T14:02:37.817Z] [runtime-status] [62708] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [62708] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-26T14:02:37.817Z] [runtime-status] [62708] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [62708] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T14:02:37.837Z] [runtime-status] [62708] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [62708] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-26T14:02:37.837Z] [runtime-status] [62708] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [62708] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-26T14:02:37.837Z] [runtime-status] [62708] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [62708] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T14:02:37.838Z] [runtime-status] [62708] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [62708] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-26T14:02:37.838Z] [runtime-status] [62708] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [62708] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T14:02:37.838Z] [runtime-status] [62708] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [62708] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-26T14:02:37.890Z] [runtime-status] [62708] initializeApp(DEFAULT) {"storageBucket":"chatroom-69853.appspot.com","databaseURL":"https://chatroom-69853-default-rtdb.europe-west1.firebasedatabase.app","projectId":"chatroom-69853"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [62708] initializeApp(DEFAULT) {\"storageBucket\":\"chatroom-69853.appspot.com\",\"databaseURL\":\"https://chatroom-69853-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"chatroom-69853\"}"}}
[debug] [2023-01-26T14:02:37.892Z] [runtime-status] [62708] Functions runtime initialized. {"cwd":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions","node_version":"16.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [62708] Functions runtime initialized. {\"cwd\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions\",\"node_version\":\"16.18.0\"}"}}
[debug] [2023-01-26T14:02:37.893Z] [runtime-status] [62708] Listening to port: /var/folders/y1/2kn99b5s1q75dkydcfqvw4yr0000gn/T/fire_emu_845af72cf162af02.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [62708] Listening to port: /var/folders/y1/2kn99b5s1q75dkydcfqvw4yr0000gn/T/fire_emu_845af72cf162af02.sock"}}
[debug] [2023-01-26T14:02:37.975Z] [worker-us-central1-app-e1127a6f-e962-4f78-8ca3-0a8208d9b4a5]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-e1127a6f-e962-4f78-8ca3-0a8208d9b4a5]: IDLE"}}
[debug] [2023-01-26T14:02:37.976Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[debug] [2023-01-26T14:02:37.976Z] [worker-us-central1-app-e1127a6f-e962-4f78-8ca3-0a8208d9b4a5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-e1127a6f-e962-4f78-8ca3-0a8208d9b4a5]: BUSY"}}
[info] i  functions: Beginning execution of "app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"app\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-26T14:02:38.725Z] [worker-us-central1-app-e1127a6f-e962-4f78-8ca3-0a8208d9b4a5]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-e1127a6f-e962-4f78-8ca3-0a8208d9b4a5]: IDLE"}}
[debug] [2023-01-26T14:02:38.725Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "app" in 739.5515ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"app\" in 739.5515ms"}}
[debug] [2023-01-26T14:02:50.564Z] [work-queue] {"queuedWork":["/chatroom-69853/us-central1/app-2023-01-26T14:02:50.564Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-26T14:02:50.564Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chatroom-69853/us-central1/app-2023-01-26T14:02:50.564Z"],"workRunningCount":1}
[debug] [2023-01-26T14:02:50.564Z] Accepted request GET /chatroom-69853/us-central1/app --> us-central1-app
[debug] [2023-01-26T14:02:50.567Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-26T14:02:50.567Z] [functions] Got req.url=/chatroom-69853/us-central1/app, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chatroom-69853/us-central1/app, mapping to path=/"}}
[debug] [2023-01-26T14:02:50.568Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[debug] [2023-01-26T14:02:50.568Z] [worker-us-central1-app-e1127a6f-e962-4f78-8ca3-0a8208d9b4a5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-e1127a6f-e962-4f78-8ca3-0a8208d9b4a5]: BUSY"}}
[info] i  functions: Beginning execution of "app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"app\""}}
[debug] [2023-01-26T14:02:50.738Z] [worker-us-central1-app-e1127a6f-e962-4f78-8ca3-0a8208d9b4a5]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-e1127a6f-e962-4f78-8ca3-0a8208d9b4a5]: IDLE"}}
[debug] [2023-01-26T14:02:50.738Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "app" in 165.375083ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"app\" in 165.375083ms"}}
[debug] [2023-01-26T14:05:54.230Z] [work-queue] {"queuedWork":["/chatroom-69853/us-central1/app/chat/GZ6g1srGX0Oy4mv2qjg9-2023-01-26T14:05:54.230Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-26T14:05:54.231Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chatroom-69853/us-central1/app/chat/GZ6g1srGX0Oy4mv2qjg9-2023-01-26T14:05:54.230Z"],"workRunningCount":1}
[debug] [2023-01-26T14:05:54.231Z] Accepted request DELETE /chatroom-69853/us-central1/app/chat/GZ6g1srGX0Oy4mv2qjg9 --> us-central1-app
[debug] [2023-01-26T14:05:54.235Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-26T14:05:54.235Z] [functions] Got req.url=/chatroom-69853/us-central1/app/chat/GZ6g1srGX0Oy4mv2qjg9, mapping to path=/chat/GZ6g1srGX0Oy4mv2qjg9 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chatroom-69853/us-central1/app/chat/GZ6g1srGX0Oy4mv2qjg9, mapping to path=/chat/GZ6g1srGX0Oy4mv2qjg9"}}
[debug] [2023-01-26T14:05:54.235Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[debug] [2023-01-26T14:05:54.235Z] [worker-us-central1-app-e1127a6f-e962-4f78-8ca3-0a8208d9b4a5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-e1127a6f-e962-4f78-8ca3-0a8208d9b4a5]: BUSY"}}
[info] i  functions: Beginning execution of "app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"app\""}}
[debug] [2023-01-26T14:05:54.578Z] [worker-us-central1-app-e1127a6f-e962-4f78-8ca3-0a8208d9b4a5]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-e1127a6f-e962-4f78-8ca3-0a8208d9b4a5]: IDLE"}}
[debug] [2023-01-26T14:05:54.579Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "app" in 336.256625ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"app\" in 336.256625ms"}}
[debug] [2023-01-26T14:22:18.695Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T14:22:19.697Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T14:22:20.113Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T14:22:20.113Z] Building nodejs source
[debug] [2023-01-26T14:22:20.113Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T14:22:20.229Z] Serving at port 9005

[debug] [2023-01-26T14:22:20.274Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T14:22:20.276Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T14:22:20.280Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2023-01-26T14:22:20.280Z] [worker-us-central1-app-e1127a6f-e962-4f78-8ca3-0a8208d9b4a5]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-e1127a6f-e962-4f78-8ca3-0a8208d9b4a5]: FINISHING"}}
[debug] [2023-01-26T14:22:20.283Z] [worker-us-central1-app-e1127a6f-e962-4f78-8ca3-0a8208d9b4a5]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-e1127a6f-e962-4f78-8ca3-0a8208d9b4a5]: exited"}}
[debug] [2023-01-26T14:22:20.283Z] [worker-us-central1-app-e1127a6f-e962-4f78-8ca3-0a8208d9b4a5]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-e1127a6f-e962-4f78-8ca3-0a8208d9b4a5]: FINISHED"}}
[debug] [2023-01-26T14:25:00.530Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T14:25:01.532Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T14:25:01.891Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T14:25:01.891Z] Building nodejs source
[debug] [2023-01-26T14:25:01.892Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T14:25:01.966Z] Serving at port 9005

[debug] [2023-01-26T14:25:01.994Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T14:25:01.999Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T15:12:59.036Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T15:13:00.038Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T15:13:00.480Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T15:13:00.480Z] Building nodejs source
[debug] [2023-01-26T15:13:00.480Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T15:13:00.587Z] Serving at port 9005

[debug] [2023-01-26T15:13:00.632Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T15:13:00.634Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T15:13:14.962Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T15:13:15.963Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T15:13:16.254Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T15:13:16.254Z] Building nodejs source
[debug] [2023-01-26T15:13:16.255Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T15:13:16.328Z] Serving at port 9005

[debug] [2023-01-26T15:13:16.357Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T15:13:16.360Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T15:15:55.104Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T15:15:56.105Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T15:15:56.378Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T15:15:56.378Z] Building nodejs source
[debug] [2023-01-26T15:15:56.379Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T15:15:56.448Z] Serving at port 9005

[debug] [2023-01-26T15:15:56.475Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T15:15:56.477Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T15:25:31.921Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T15:25:32.924Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T15:25:33.359Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T15:25:33.359Z] Building nodejs source
[debug] [2023-01-26T15:25:33.360Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T15:25:33.463Z] Serving at port 9005

[debug] [2023-01-26T15:25:33.501Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T15:25:33.503Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T15:27:51.122Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T15:27:52.124Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T15:27:52.407Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T15:27:52.407Z] Building nodejs source
[debug] [2023-01-26T15:27:52.407Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T15:27:52.476Z] Serving at port 9005

[debug] [2023-01-26T15:27:52.505Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T15:27:52.507Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T15:28:19.134Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T15:28:20.135Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T15:28:20.418Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T15:28:20.418Z] Building nodejs source
[debug] [2023-01-26T15:28:20.418Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T15:28:20.489Z] Serving at port 9005

[debug] [2023-01-26T15:28:20.517Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T15:28:20.520Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T15:29:10.374Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T15:29:11.376Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T15:29:11.643Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T15:29:11.643Z] Building nodejs source
[debug] [2023-01-26T15:29:11.643Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T15:29:11.711Z] Serving at port 9005

[debug] [2023-01-26T15:29:11.740Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T15:29:11.742Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T15:30:43.990Z] [work-queue] {"queuedWork":["/chatroom-69853/us-central1/app/chat/a9HIBwgj9LQqCbU9o9ZL-2023-01-26T15:30:43.990Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-26T15:30:43.990Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chatroom-69853/us-central1/app/chat/a9HIBwgj9LQqCbU9o9ZL-2023-01-26T15:30:43.990Z"],"workRunningCount":1}
[debug] [2023-01-26T15:30:43.990Z] Accepted request PUT /chatroom-69853/us-central1/app/chat/a9HIBwgj9LQqCbU9o9ZL --> us-central1-app
[debug] [2023-01-26T15:30:43.993Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-26T15:30:43.994Z] [functions] Got req.url=/chatroom-69853/us-central1/app/chat/a9HIBwgj9LQqCbU9o9ZL, mapping to path=/chat/a9HIBwgj9LQqCbU9o9ZL {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chatroom-69853/us-central1/app/chat/a9HIBwgj9LQqCbU9o9ZL, mapping to path=/chat/a9HIBwgj9LQqCbU9o9ZL"}}
[debug] [2023-01-26T15:30:43.994Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[debug] [2023-01-26T15:30:44.002Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2023-01-26T15:30:44.002Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2023-01-26T15:30:44.559Z] [runtime-status] [66611] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [66611] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-26T15:30:44.560Z] [runtime-status] [66611] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [66611] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T15:30:44.560Z] [runtime-status] [66611] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [66611] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-26T15:30:44.560Z] [runtime-status] [66611] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [66611] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T15:30:44.585Z] [runtime-status] [66611] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [66611] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-26T15:30:44.585Z] [runtime-status] [66611] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [66611] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2023-01-26T15:30:44.585Z] [runtime-status] [66611] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [66611] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T15:30:44.586Z] [runtime-status] [66611] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [66611] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-26T15:30:44.586Z] [runtime-status] [66611] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [66611] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2023-01-26T15:30:44.586Z] [runtime-status] [66611] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [66611] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-26T15:30:44.647Z] [runtime-status] [66611] initializeApp(DEFAULT) {"storageBucket":"chatroom-69853.appspot.com","databaseURL":"https://chatroom-69853-default-rtdb.europe-west1.firebasedatabase.app","projectId":"chatroom-69853"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [66611] initializeApp(DEFAULT) {\"storageBucket\":\"chatroom-69853.appspot.com\",\"databaseURL\":\"https://chatroom-69853-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"chatroom-69853\"}"}}
[debug] [2023-01-26T15:30:44.650Z] [runtime-status] [66611] Functions runtime initialized. {"cwd":"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions","node_version":"16.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [66611] Functions runtime initialized. {\"cwd\":\"/Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions\",\"node_version\":\"16.18.0\"}"}}
[debug] [2023-01-26T15:30:44.650Z] [runtime-status] [66611] Listening to port: /var/folders/y1/2kn99b5s1q75dkydcfqvw4yr0000gn/T/fire_emu_03137c59116288ba.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [66611] Listening to port: /var/folders/y1/2kn99b5s1q75dkydcfqvw4yr0000gn/T/fire_emu_03137c59116288ba.sock"}}
[debug] [2023-01-26T15:30:44.716Z] [worker-us-central1-app-5b6e2a88-4d5c-4018-adf1-499ec070ab0a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-5b6e2a88-4d5c-4018-adf1-499ec070ab0a]: IDLE"}}
[debug] [2023-01-26T15:30:44.716Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[debug] [2023-01-26T15:30:44.716Z] [worker-us-central1-app-5b6e2a88-4d5c-4018-adf1-499ec070ab0a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-5b6e2a88-4d5c-4018-adf1-499ec070ab0a]: BUSY"}}
[info] i  functions: Beginning execution of "app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"app\""}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2023-01-26T15:30:45.603Z] [worker-us-central1-app-5b6e2a88-4d5c-4018-adf1-499ec070ab0a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-5b6e2a88-4d5c-4018-adf1-499ec070ab0a]: IDLE"}}
[debug] [2023-01-26T15:30:45.604Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "app" in 878.607583ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"app\" in 878.607583ms"}}
[debug] [2023-01-26T15:30:55.153Z] [work-queue] {"queuedWork":["/chatroom-69853/us-central1/app/chat/a9HIBwgj9LQqCbU9o9ZL-2023-01-26T15:30:55.153Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-26T15:30:55.153Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chatroom-69853/us-central1/app/chat/a9HIBwgj9LQqCbU9o9ZL-2023-01-26T15:30:55.153Z"],"workRunningCount":1}
[debug] [2023-01-26T15:30:55.154Z] Accepted request PUT /chatroom-69853/us-central1/app/chat/a9HIBwgj9LQqCbU9o9ZL --> us-central1-app
[debug] [2023-01-26T15:30:55.158Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-26T15:30:55.158Z] [functions] Got req.url=/chatroom-69853/us-central1/app/chat/a9HIBwgj9LQqCbU9o9ZL, mapping to path=/chat/a9HIBwgj9LQqCbU9o9ZL {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chatroom-69853/us-central1/app/chat/a9HIBwgj9LQqCbU9o9ZL, mapping to path=/chat/a9HIBwgj9LQqCbU9o9ZL"}}
[debug] [2023-01-26T15:30:55.158Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[debug] [2023-01-26T15:30:55.158Z] [worker-us-central1-app-5b6e2a88-4d5c-4018-adf1-499ec070ab0a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-5b6e2a88-4d5c-4018-adf1-499ec070ab0a]: BUSY"}}
[info] i  functions: Beginning execution of "app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"app\""}}
[debug] [2023-01-26T15:30:55.388Z] [worker-us-central1-app-5b6e2a88-4d5c-4018-adf1-499ec070ab0a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-5b6e2a88-4d5c-4018-adf1-499ec070ab0a]: IDLE"}}
[debug] [2023-01-26T15:30:55.389Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "app" in 226.322958ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"app\" in 226.322958ms"}}
[debug] [2023-01-26T15:31:22.771Z] [work-queue] {"queuedWork":["/chatroom-69853/us-central1/app/chat/a9HIBwgj9LQqCbU9o9ZL-2023-01-26T15:31:22.771Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-26T15:31:22.771Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chatroom-69853/us-central1/app/chat/a9HIBwgj9LQqCbU9o9ZL-2023-01-26T15:31:22.771Z"],"workRunningCount":1}
[debug] [2023-01-26T15:31:22.771Z] Accepted request DELETE /chatroom-69853/us-central1/app/chat/a9HIBwgj9LQqCbU9o9ZL --> us-central1-app
[debug] [2023-01-26T15:31:22.774Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-26T15:31:22.774Z] [functions] Got req.url=/chatroom-69853/us-central1/app/chat/a9HIBwgj9LQqCbU9o9ZL, mapping to path=/chat/a9HIBwgj9LQqCbU9o9ZL {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chatroom-69853/us-central1/app/chat/a9HIBwgj9LQqCbU9o9ZL, mapping to path=/chat/a9HIBwgj9LQqCbU9o9ZL"}}
[debug] [2023-01-26T15:31:22.774Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[debug] [2023-01-26T15:31:22.774Z] [worker-us-central1-app-5b6e2a88-4d5c-4018-adf1-499ec070ab0a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-5b6e2a88-4d5c-4018-adf1-499ec070ab0a]: BUSY"}}
[info] i  functions: Beginning execution of "app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"app\""}}
[debug] [2023-01-26T15:31:23.013Z] [worker-us-central1-app-5b6e2a88-4d5c-4018-adf1-499ec070ab0a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-5b6e2a88-4d5c-4018-adf1-499ec070ab0a]: IDLE"}}
[debug] [2023-01-26T15:31:23.014Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "app" in 235.418ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"app\" in 235.418ms"}}
[debug] [2023-01-26T15:31:42.385Z] [work-queue] {"queuedWork":["/chatroom-69853/us-central1/app/chat/a9HIBwgj9LQqCbU9o9ZL-2023-01-26T15:31:42.385Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-26T15:31:42.385Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chatroom-69853/us-central1/app/chat/a9HIBwgj9LQqCbU9o9ZL-2023-01-26T15:31:42.385Z"],"workRunningCount":1}
[debug] [2023-01-26T15:31:42.385Z] Accepted request PUT /chatroom-69853/us-central1/app/chat/a9HIBwgj9LQqCbU9o9ZL --> us-central1-app
[debug] [2023-01-26T15:31:42.389Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-26T15:31:42.389Z] [functions] Got req.url=/chatroom-69853/us-central1/app/chat/a9HIBwgj9LQqCbU9o9ZL, mapping to path=/chat/a9HIBwgj9LQqCbU9o9ZL {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chatroom-69853/us-central1/app/chat/a9HIBwgj9LQqCbU9o9ZL, mapping to path=/chat/a9HIBwgj9LQqCbU9o9ZL"}}
[debug] [2023-01-26T15:31:42.390Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[debug] [2023-01-26T15:31:42.390Z] [worker-us-central1-app-5b6e2a88-4d5c-4018-adf1-499ec070ab0a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-5b6e2a88-4d5c-4018-adf1-499ec070ab0a]: BUSY"}}
[info] i  functions: Beginning execution of "app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"app\""}}
[debug] [2023-01-26T15:31:42.482Z] [worker-us-central1-app-5b6e2a88-4d5c-4018-adf1-499ec070ab0a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-5b6e2a88-4d5c-4018-adf1-499ec070ab0a]: IDLE"}}
[debug] [2023-01-26T15:31:42.483Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "app" in 88.964875ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"app\" in 88.964875ms"}}
[debug] [2023-01-26T15:33:24.798Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T15:33:25.800Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T15:33:26.897Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T15:33:26.897Z] Building nodejs source
[debug] [2023-01-26T15:33:26.897Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T15:33:27.000Z] Serving at port 9005

[debug] [2023-01-26T15:33:27.039Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T15:33:27.042Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T15:33:27.046Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2023-01-26T15:33:27.046Z] [worker-us-central1-app-5b6e2a88-4d5c-4018-adf1-499ec070ab0a]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-5b6e2a88-4d5c-4018-adf1-499ec070ab0a]: FINISHING"}}
[debug] [2023-01-26T15:33:27.048Z] [worker-us-central1-app-5b6e2a88-4d5c-4018-adf1-499ec070ab0a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-5b6e2a88-4d5c-4018-adf1-499ec070ab0a]: exited"}}
[debug] [2023-01-26T15:33:27.048Z] [worker-us-central1-app-5b6e2a88-4d5c-4018-adf1-499ec070ab0a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-app-5b6e2a88-4d5c-4018-adf1-499ec070ab0a]: FINISHED"}}
[debug] [2023-01-26T15:42:53.068Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T15:42:54.071Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T15:42:54.435Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T15:42:54.435Z] Building nodejs source
[debug] [2023-01-26T15:42:54.435Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T15:42:54.509Z] Serving at port 9005

[debug] [2023-01-26T15:42:54.537Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T15:42:54.540Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T15:44:50.307Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T15:44:51.309Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T15:44:51.584Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T15:44:51.584Z] Building nodejs source
[debug] [2023-01-26T15:44:51.584Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T15:44:51.653Z] Serving at port 9005

[debug] [2023-01-26T15:44:51.681Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T15:44:51.684Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2023-01-26T15:51:50.774Z] File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/karit/Desktop/Vor 2023/Module 5/group-project/chatterbox/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-26T15:51:51.778Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-01-26T15:51:52.161Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "local": "firebase serve --only functions"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase": "^9.16.0",
    "firebase-admin": "^10.3.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-26T15:51:52.161Z] Building nodejs source
[debug] [2023-01-26T15:51:52.161Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-26T15:51:52.237Z] Serving at port 9005

[debug] [2023-01-26T15:51:52.266Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-26T15:51:52.268Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
